# åŠ¨æ‰‹å­¦æ•°æ®åˆ†æ

è¿™é‡Œä¼šæ•´ç†ï¼šæ•°æ®æ¸…æ´—ã€æ¢ç´¢æ€§åˆ†æï¼ˆEDAï¼‰ã€æŒ‡æ ‡æ‹†è§£ã€æ¡ˆä¾‹ç»ƒä¹ ã€‚

![test](assets/images/test.png)

# Hands-on data analysis--- åŠ¨æ‰‹å­¦æ•°æ®åˆ†æ

---

## å†™åœ¨æœ€å‰é¢

è¿™é—¨è¯¾ç¨‹å¾—ä¸»è¦ç›®çš„æ˜¯é€šè¿‡çœŸå®çš„æ•°æ®ï¼Œä»¥å®æˆ˜çš„æ–¹å¼äº†è§£æ•°æ®åˆ†æçš„æµç¨‹å’Œç†Ÿæ‚‰æ•°æ®åˆ†æpythonçš„åŸºæœ¬æ“ä½œã€‚çŸ¥é“äº†è¯¾ç¨‹çš„ç›®çš„ä¹‹åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥æˆ‘ä»¬è¦æ­£å¼çš„å¼€å§‹æ•°æ®åˆ†æçš„å®æˆ˜æ•™å­¦ï¼Œå®Œæˆkaggleä¸Š[æ³°å¦å°¼å…‹çš„ä»»åŠ¡](https://www.kaggle.com/c/titanic/overview)ï¼Œå®æˆ˜æ•°æ®åˆ†æå…¨æµç¨‹ã€‚
è¿™é‡Œæœ‰ä¸¤ä»½èµ„æ–™éœ€è¦å¤§å®¶å‡†å¤‡ï¼šå›¾ä¹¦ã€ŠPython for Data Analysisã€‹ç¬¬å…­ç« å’Œ baidu.com &google.comï¼ˆå–„ç”¨æœç´¢å¼•æ“ï¼‰

> æ¥è‡ªGithubå¼€æºé¡¹ç›®[Github](https://github.com/datawhalechina/hands-on-data-analysis )
>
> ä½œè€…ä»…å¯¹äºå­¦ä¹ ä¸­é‡åˆ°çš„é—®é¢˜è¿›è¡Œæ ‡æ³¨æ•´ç† ä¾›å¤§å®¶å­¦ä¹ è®¨è®º
>
> æœ¬å®éªŒæ•°æ®é›†å’Œèµ„æ–™å¯ä»¥ç§ä¿¡ä½œè€…ï¼Œ é¼“åŠ±æœ‰æ¡ä»¶çš„åŒå­¦è‡ªè¡Œåˆ°Githubä¸ŠæŸ¥é˜…ä¸‹è½½



> ## ä¸€ã€è¿™ç¯‡ç¬”è®°ä½ å°†å­¦åˆ°ä»€ä¹ˆï¼Ÿ
>
> è¿™ç¯‡ç¬”è®°æ˜¯åŸºäº Kaggle æ³°å¦å°¼å…‹é¡¹ç›®çš„æ•°æ®ï¼Œä» 0 å¸¦ä½ èµ°ä¸€éæ•°æ®åˆ†ææœ€å¼€å§‹çš„å‡ æ­¥ï¼š**æ•°æ®åŠ è½½ â†’ åˆæ­¥è§‚å¯Ÿ â†’ ç®€å•ä¿å­˜ä¸å¯¼å‡º**ï¼ŒåŒæ—¶ç†Ÿæ‚‰ `numpy` å’Œ `pandas` çš„å¸¸ç”¨æ“ä½œã€‚
>
> ------
>
> ### 1. æ•°æ®åŠ è½½ï¼šæŠŠæ•°æ®â€œè¯·è¿›æ¥â€
>
> - å¦‚ä½•å¯¼å…¥ `numpy`ã€`pandas` å¹¶åœ¨æŠ¥é”™æ—¶è‡ªå·±å®‰è£…åº“ã€‚
> - ä½¿ç”¨ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„åŠ è½½æœ¬åœ° CSV æ–‡ä»¶ï¼Œææ¸…æ¥šâ€œå½“å‰å·¥ä½œç›®å½•â€çš„æ¦‚å¿µã€‚
> - ç†è§£ `pd.read_csv()` ä¸ `pd.read_table()` çš„åŒºåˆ«ï¼ˆé»˜è®¤åˆ†éš”ç¬¦ä¸åŒï¼‰ï¼Œä»¥åŠ `.csv`ã€`.tsv`ã€`.xlsx` è¿™å‡ ç§å¸¸è§æ•°æ®æ ¼å¼åº”è¯¥å¦‚ä½•è¯»å–ã€‚
> - å­¦ä¼šç”¨ `chunksize` æŒ‰å—è¯»å–å¤§æ–‡ä»¶ï¼Œæ˜ç™½ä¸ºä»€ä¹ˆè¦â€œé€å—è¯»å–â€æ¥èŠ‚çœå†…å­˜ã€‚
> - å­¦ä¼šæŠŠè‹±æ–‡è¡¨å¤´æ›¿æ¢ä¸ºä¸­æ–‡åˆ—åï¼Œå¹¶æŠŠâ€œä¹˜å®¢IDâ€è®¾ç½®ä¸ºç´¢å¼•ï¼ŒåŒæ—¶ç†è§£ `inplace=True` æ˜¯â€œåŸåœ°ä¿®æ”¹â€ã€‚
>
> ------
>
> ### 2. åˆæ­¥è§‚å¯Ÿï¼šå¿«é€Ÿç»™æ•°æ®åšä¸ªâ€œä½“æ£€â€
>
> - ä½¿ç”¨ `df.info()` äº†è§£æ•°æ®çš„æ•´ä½“ç»“æ„ï¼šè¡Œæ•°ã€åˆ—æ•°ã€æ¯åˆ—ç¼ºå¤±å€¼æƒ…å†µã€æ•°æ®ç±»å‹å’Œå†…å­˜å ç”¨ã€‚
> - ä½¿ç”¨ `head()` / `tail()` æŸ¥çœ‹å‰å‡ è¡Œã€åå‡ è¡Œï¼Œå¿«é€Ÿæ„Ÿå—æ•°æ®é•¿ä»€ä¹ˆæ ·ã€‚
> - ä½¿ç”¨ `isnull()` åˆ¤æ–­ç¼ºå¤±å€¼ï¼Œç†è§£å“ªäº›ä¸œè¥¿ä¼šè¢«è§†ä¸ºâ€œç©ºâ€ï¼ˆæ¯”å¦‚ NaNã€Noneã€NaTï¼‰ï¼Œå“ªäº›ä¸ä¼šï¼ˆæ¯”å¦‚ 0ã€ç©ºå­—ç¬¦ä¸²ï¼‰ã€‚
> - å»¶ä¼¸å‡ºæ›´å¤šè§‚å¯Ÿç»´åº¦çš„æ€è·¯ï¼šæè¿°æ€§ç»Ÿè®¡ï¼ˆ`describe`ï¼‰ã€ç±»åˆ«åˆ†å¸ƒï¼ˆ`value_counts`ï¼‰ã€æç«¯å€¼å’Œç›¸å…³æ€§ç­‰ï¼Œä¸ºåç»­çœŸæ­£çš„æ•°æ®åˆ†ææ‰“åŸºç¡€ã€‚
>
> ------
>
> ### 3. ä¿å­˜æ•°æ®ï¼šæŠŠä¿®æ”¹ç»“æœâ€œå¸¦èµ°â€
>
> - å­¦ä¼šæŠŠä¿®æ”¹è¿‡åˆ—åã€ç´¢å¼•åçš„ DataFrame å¯¼å‡ºä¸ºæ–°çš„ CSV æ–‡ä»¶ã€‚
> - çŸ¥é“æ–‡ä»¶é»˜è®¤ä¿å­˜ä½ç½®æ˜¯å½“å‰å·¥ä½œç›®å½•ï¼Œä¹Ÿèƒ½æŒ‡å®šä¿å­˜è·¯å¾„ã€‚
> - çŸ¥é“å¦‚ä½•é€šè¿‡è®¾ç½®ç¼–ç è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼ˆå¦‚ `utf-8`ã€`gbk` ç­‰ï¼‰ã€‚

## 1 ç¬¬ä¸€ç« ï¼šæ•°æ®åŠ è½½

### 1.1 è½½å…¥æ•°æ®

æ•°æ®é›†ä¸‹è½½ https://www.kaggle.com/c/titanic/overview

#### 1.1.1 ä»»åŠ¡ä¸€ï¼šå¯¼å…¥numpyå’Œpandas


```python
import numpy as np
import pandas as pd
```

ã€æç¤ºã€‘å¦‚æœåŠ è½½å¤±è´¥ï¼Œå­¦ä¼šå¦‚ä½•åœ¨ä½ çš„pythonç¯å¢ƒä¸‹å®‰è£…numpyå’Œpandasè¿™ä¸¤ä¸ªåº“

#### 1.1.2 ä»»åŠ¡äºŒï¼šè½½å…¥æ•°æ®

(1) ä½¿ç”¨ç›¸å¯¹è·¯å¾„è½½å…¥æ•°æ®  
(2) ä½¿ç”¨ç»å¯¹è·¯å¾„è½½å…¥æ•°æ®


```python
df = pd.read_csv('train.csv')
df.head(3)
```


```python
# "E:\pycharm\Python3_9\hands-on-data-analysis\ç¬¬ä¸€å•å…ƒé¡¹ç›®é›†åˆ\train.csv"
# æ³¨æ„ï¼šWindowsç³»ç»Ÿçš„è·¯å¾„ä¸­åæ–œæ \éœ€è¦ç”¨åŒåæ–œæ \\æˆ–è€…æ–œæ /æ¥è¡¨ç¤ºï¼Œå¦åˆ™ä¼šæŠ¥é”™

df = pd.read_table('E:\\pycharm\\Python3_9\\hands-on-data-analysis\\ç¬¬ä¸€å•å…ƒé¡¹ç›®é›†åˆ\\train.csv',sep=',')
df.head(3)
```

ã€æç¤ºã€‘ç›¸å¯¹è·¯å¾„è½½å…¥æŠ¥é”™æ—¶ï¼Œå°è¯•ä½¿ç”¨os.getcwd()æŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•ã€‚

- cwd æ˜¯ Current Working Directory çš„ç¼©å†™

ã€æ€è€ƒ1.ã€‘çŸ¥é“æ•°æ®åŠ è½½çš„æ–¹æ³•åï¼Œè¯•è¯•pd.read_csv()å’Œpd.read_table()çš„ä¸åŒï¼Œå¦‚æœæƒ³è®©ä»–ä»¬æ•ˆæœä¸€æ ·ï¼Œéœ€è¦æ€ä¹ˆåšï¼Ÿäº†è§£ä¸€ä¸‹'.tsv'å’Œ'.csv'çš„ä¸åŒï¼Œå¦‚ä½•åŠ è½½è¿™ä¸¤ä¸ªæ•°æ®é›†ï¼Ÿ

ã€æ€»ç»“ã€‘åŠ è½½çš„æ•°æ®æ˜¯æ‰€æœ‰å·¥ä½œçš„ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬çš„å·¥ä½œä¼šæ¥è§¦åˆ°ä¸åŒçš„æ•°æ®æ ¼å¼ï¼ˆeg:.csv;.tsv;.xlsxï¼‰,ä½†æ˜¯åŠ è½½çš„æ–¹æ³•å’Œæ€è·¯éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåœ¨ä»¥åå·¥ä½œå’Œåšé¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°ä¹‹å‰æ²¡æœ‰ç¢°åˆ°çš„é—®é¢˜ï¼Œè¦å¤šå¤šæŸ¥èµ„æ–™å—ï¼Œä½¿ç”¨googleï¼Œäº†è§£ä¸šåŠ¡é€»è¾‘ï¼Œæ˜ç™½è¾“å…¥å’Œè¾“å‡ºæ˜¯ä»€ä¹ˆã€‚


```python
import os
# æ‰“å°å½“å‰å·¥ä½œç›®å½•
print("å½“å‰å·¥ä½œç›®å½•:", os.getcwd())
```

- ã€æ€è€ƒ1.ã€‘`pd.read_csv()` å’Œ `pd.read_table()` çš„åŒºåˆ«ï¼Œä»¥åŠå¦‚ä½•å¤„ç† `.csv` å’Œ `.tsv` æ–‡ä»¶ã€‚

> ### 1\. `pd.read_csv()` ä¸ `pd.read_table()` çš„ä¸»è¦åŒºåˆ«
>
> è¿™ä¸¤ä¸ªå‡½æ•°åœ¨ Pandas ä¸­éƒ½ç”¨äºä»æ–‡æœ¬æ–‡ä»¶åŠ è½½æ•°æ®åˆ° DataFrame ä¸­ï¼Œä½†å®ƒä»¬è¢«è®¾è®¡ç”¨æ¥å¤„ç†**ä¸åŒé»˜è®¤åˆ†éš”ç¬¦**çš„æ–‡ä»¶ã€‚
>
> | ç‰¹æ€§                        | `pd.read_csv()`                                  | `pd.read_table()`                                            |
> | :-------------------------- | :----------------------------------------------- | :----------------------------------------------------------- |
> | **é»˜è®¤åˆ†éš”ç¬¦** (`sep` å‚æ•°) | **é€—å·** (`,`)                                   | **åˆ¶è¡¨ç¬¦** (`\t`)                                            |
> | **ä½¿ç”¨åœºæ™¯**                | ä¸»è¦ç”¨äº `.csv` æ–‡ä»¶ï¼ˆComma Separated Valuesï¼‰ã€‚ | ä¸»è¦ç”¨äº `.tsv` æ–‡ä»¶ï¼ˆTab Separated Valuesï¼‰æˆ–**é€šç”¨æ–‡æœ¬æ–‡ä»¶**ã€‚ |
> | **é»˜è®¤ç´¢å¼•åˆ—**              | **æ— **ï¼ˆ`index_col=None`ï¼‰                       | **æ— **ï¼ˆ`index_col=None`ï¼‰                                   |
>
> åœ¨åŠŸèƒ½ä¸Šï¼Œ`pd.read_csv()` **æ˜¯æ›´å¸¸ç”¨çš„å’Œæ¨èçš„**ã€‚å®é™…ä¸Šï¼Œ`pd.read_table()` åªæ˜¯ `pd.read_csv()` çš„ä¸€ä¸ªåŒ…è£…å™¨ï¼ˆWrapperï¼‰ï¼Œå®ƒåœ¨å†…éƒ¨è°ƒç”¨ `pd.read_csv()` å¹¶è‡ªåŠ¨å°†åˆ†éš”ç¬¦è®¾ç½®ä¸ºåˆ¶è¡¨ç¬¦ã€‚
>
> ---
>
> ### å¦‚ä½•è®©å®ƒä»¬æ•ˆæœä¸€æ ·ï¼Ÿ
>
> è¦è®© `pd.read_csv()` å’Œ `pd.read_table()` è¯»å–åŒä¸€ä¸ªæ–‡ä»¶å¹¶äº§ç”Ÿç›¸åŒçš„æ•ˆæœï¼Œä½ éœ€è¦æ‰‹åŠ¨è®¾ç½®å®ƒä»¬çš„åˆ†éš”ç¬¦ (`sep`) å‚æ•°ï¼Œä½¿å…¶ä¿æŒä¸€è‡´ï¼š
>
> #### åœºæ™¯ Aï¼šè¯»å–é€—å·åˆ†éš”çš„æ–‡ä»¶ï¼ˆ`.csv`ï¼‰
>
> | å‡½æ•°                                 | ä»£ç                                  | è¯´æ˜                     |
> | :----------------------------------- | :----------------------------------- | :----------------------- |
> | `pd.read_csv()`                      | `pd.read_csv('data.csv')`            | **ä½¿ç”¨é»˜è®¤å€¼**ï¼šé€—å·     |
> | `pd.read_table()`                    | `pd.read_table('data.csv', sep=',')` | **æ‰‹åŠ¨æŒ‡å®š**åˆ†éš”ç¬¦ä¸ºé€—å· |
> | **sep æ˜¯ Separatorï¼ˆåˆ†éš”ç¬¦ï¼‰çš„ç¼©å†™** |                                      |                          |
>
> #### åœºæ™¯ Bï¼šè¯»å–åˆ¶è¡¨ç¬¦åˆ†éš”çš„æ–‡ä»¶ï¼ˆ`.tsv`ï¼‰
>
> | å‡½æ•°              | ä»£ç                                 | è¯´æ˜                       |
> | :---------------- | :---------------------------------- | :------------------------- |
> | `pd.read_csv()`   | `pd.read_csv('data.tsv', sep='\t')` | **æ‰‹åŠ¨æŒ‡å®š**åˆ†éš”ç¬¦ä¸ºåˆ¶è¡¨ç¬¦ |
> | `pd.read_table()` | `pd.read_table('data.tsv')`         | **ä½¿ç”¨é»˜è®¤å€¼**ï¼šåˆ¶è¡¨ç¬¦     |
>
> -----
>
> ### 2\.  `.tsv` ä¸ `.csv` çš„åŒºåˆ«åŠåŠ è½½æ–¹æ³•
>
> `.csv` å’Œ `.tsv` éƒ½æ˜¯å¸¸ç”¨çš„çº¯æ–‡æœ¬æ•°æ®å­˜å‚¨æ ¼å¼ï¼Œå®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºå­—æ®µï¼ˆåˆ—ï¼‰ä¹‹é—´æ˜¯å¦‚ä½•è¢«åˆ†éš”å¼€çš„ã€‚
>
> ### ä»€ä¹ˆæ˜¯åˆ†éš”ç¬¦ï¼Ÿ
>
> **åˆ†éš”ç¬¦**ï¼ˆDelimiterï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„å­—ç¬¦ï¼Œç”¨äºå°†æ•°æ®è¡Œä¸­çš„ä¸åŒå­—æ®µåˆ†å¼€ã€‚
>
> | æ–‡ä»¶åç¼€ | å…¨ç§°                               | å«ä¹‰         | åˆ†éš”ç¬¦            |
> | :------- | :--------------------------------- | :----------- | :---------------- |
> | **.csv** | **C**omma **S**eparated **V**alues | é€—å·åˆ†éš”å€¼   | **é€—å·** (`,`)    |
> | **.tsv** | **T**ab **S**eparated **V**alues   | åˆ¶è¡¨ç¬¦åˆ†éš”å€¼ | **åˆ¶è¡¨ç¬¦** (`\t`) |
>
> è¦è¯»å– `.xlsx` æ–‡ä»¶ï¼ˆMicrosoft Excel æ–‡ä»¶ï¼‰ï¼Œéœ€è¦ä½¿ç”¨ **Pandas** é…åˆä¸€ä¸ªä¸“é—¨å¤„ç† Excel æ ¼å¼çš„**å¼•æ“**ã€‚
>
> ç”¨äºè¯»å– `.xlsx` æ–‡ä»¶çš„ Pandas å‡½æ•°æ˜¯ `pd.read_excel()`ã€‚
>
> ***
>
> -----
>
> ### è¯»å– `.xlsx` æ–‡ä»¶çš„æ­¥éª¤
>
> ### 1\. å®‰è£…å¿…è¦çš„åº“
>
> Pandas è‡ªå·±æ— æ³•ç›´æ¥å¤„ç† `.xlsx` è¿™ç§å¤æ‚æ ¼å¼çš„ Excel æ–‡ä»¶ï¼Œå®ƒéœ€è¦ä¸€ä¸ªåç«¯åº“ä½œä¸ºâ€œå¼•æ“â€æ¥è§£ææ–‡ä»¶ã€‚æœ€å¸¸ç”¨çš„åº“æ˜¯ **`openpyxl`**ã€‚
>
> å¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£…ï¼Œéœ€è¦åœ¨å‘½ä»¤è¡Œæˆ–ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
>
> ```bash
> pip install pandas openpyxl
> ```
>
> 
>
> ### 2\. ä½¿ç”¨ `pd.read_excel()`
>
> å®‰è£…å®Œ `openpyxl` åï¼Œä½ å°±å¯ä»¥åœ¨ Python ä¸­ä½¿ç”¨ `pd.read_excel()` å‡½æ•°æ¥è¯»å– `.xlsx` æ–‡ä»¶äº†ã€‚
>
> ```python
> import pandas as pd
> 
> # å‡è®¾ä½ çš„æ–‡ä»¶åä¸º 'my_data.xlsx'
> file_path = 'my_data.xlsx'
> 
> # ä½¿ç”¨ pd.read_excel() è¯»å–æ–‡ä»¶
> df = pd.read_excel(file_path)
> 
> print(df.head())
> ```





----

#### 1.1.3 ä»»åŠ¡ä¸‰ï¼šæ¯1000è¡Œä¸ºä¸€ä¸ªæ•°æ®æ¨¡å—ï¼Œé€å—è¯»å–


```python
chunker = pd.read_csv('train.csv', chunksize=100)
# chunksize=1000	å…³é”®å‚æ•°ï¼š æŒ‡å®šæ¯æ¬¡è¯»å–æ–‡ä»¶æ—¶ï¼Œè¦è¯»å–çš„è¡Œæ•°ã€‚è¿™é‡Œè®¾ç½®ä¸º 100è¡Œã€‚

print(f"chunker çš„ç±»å‹æ˜¯: {type(chunker)}")

# 2. éå† chunker
chunk_count = 0
for chunk in chunker:
    chunk_count += 1

    print("-" * 30)
    print(f"è¿™æ˜¯ç¬¬ {chunk_count} ä¸ªæ•°æ®å— (chunk)")
    print(f"æ•°æ®å—çš„ç±»å‹æ˜¯: {type(chunk)}")
    print(f"æ•°æ®å—çš„è¡Œæ•°æ˜¯: {len(chunk)}")
    print("\næ•°æ®å— (chunk) çš„å…·ä½“å†…å®¹:")

    # æ‰“å°æ¯ä¸ªæ•°æ®å—çš„å‰å‡ è¡Œï¼Œä»¥å±•ç¤ºå®ƒæ˜¯ DataFrame
    print(chunk.head(3))

# 'chunker' æ¯æ¬¡è¿­ä»£éƒ½ä¼šè¿”å›ä¸€ä¸ªåŒ…å« 1000 è¡Œæ•°æ®çš„ DataFrame
for chunk in chunker:
    # è¿™é‡Œçš„ 'chunk' å°±æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ Pandas DataFrameï¼Œä½†å®ƒåªæœ‰ 1000 è¡Œã€‚

    # å¯ä»¥åœ¨è¿™é‡Œå¯¹è¿™ 1000 è¡Œæ•°æ®è¿›è¡Œè®¡ç®—ã€ç­›é€‰æˆ–èšåˆç­‰æ“ä½œ
    print(f"å½“å‰æ•°æ®å—çš„è¡Œæ•°: {len(chunk)}")

    # ç¤ºä¾‹ï¼šè®¡ç®—æ¯å—æ•°æ®çš„å¹³å‡å€¼
    average = chunk['Age'].mean()
    print(f"å¹³å‡å€¼: {average}")

    # å¦‚æœéœ€è¦ï¼Œå¯ä»¥å°†æ¯å—å¤„ç†ç»“æœä¿å­˜åˆ°å¤–éƒ¨åˆ—è¡¨æˆ–æ–‡ä»¶ä¸­
    # results.append(average)
```

**è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š**

```bash 
chunker çš„ç±»å‹æ˜¯: <class 'pandas.io.parsers.readers.TextFileReader'>
------------------------------
è¿™æ˜¯ç¬¬ 1 ä¸ªæ•°æ®å— (chunk)
æ•°æ®å—çš„ç±»å‹æ˜¯: <class 'pandas.core.frame.DataFrame'>
æ•°æ®å—çš„è¡Œæ•°æ˜¯: 100
æ•°æ®å— (chunk) çš„å…·ä½“å†…å®¹:
 ......
```


ã€æ€è€ƒ1.ã€‘ä»€ä¹ˆæ˜¯é€å—è¯»å–ï¼Ÿä¸ºä»€ä¹ˆè¦é€å—è¯»å–å‘¢ï¼Ÿ

ã€æç¤ºã€‘å¤§å®¶å¯ä»¥chunker(æ•°æ®å—)æ˜¯ä»€ä¹ˆç±»å‹ï¼Ÿç”¨`for`å¾ªç¯æ‰“å°å‡ºæ¥å‡ºå¤„å…·ä½“çš„æ ·å­æ˜¯ä»€ä¹ˆï¼Ÿ



ã€æ€è€ƒ1.ã€‘

- chunker(æ•°æ®å—)æ˜¯ä»€ä¹ˆç±»å‹ï¼Ÿç”¨`for`å¾ªç¯æ‰“å°å‡ºæ¥å‡ºå¤„å…·ä½“çš„æ ·å­æ˜¯ä»€ä¹ˆï¼Ÿ

> chunker çš„ç±»å‹æ˜¯: <class 'pandas.io.parsers.readers.TextFileReader'>
>
> ä¸Šæ–¹ç¨‹åºæœ‰chunkerè¿­ä»£å‡ºçš„å†…å®¹

- ä»€ä¹ˆæ˜¯é€å—è¯»å–ï¼Ÿä¸ºä»€ä¹ˆè¦é€å—è¯»å–å‘¢ï¼Ÿ

> Chunksæ˜¯ä¸€ä¸ªä½¿ç”¨ **Pandas** åº“æ¥è¯»å–å¤§å‹ CSV æ–‡ä»¶æ—¶éå¸¸é«˜æ•ˆçš„æŠ€å·§ã€‚
>
> æ ¸å¿ƒä½œç”¨æ˜¯ï¼š**â€œä¸è¦ä¸€æ¬¡æ€§æŠŠæ•´ä¸ªå¤§æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè€Œæ˜¯æŠŠå®ƒåˆ†æˆä¸€ä¸ªä¸ªå°çš„â€˜æ•°æ®å—â€™ï¼ˆChunksï¼‰ï¼Œå¯ä»¥é€å—å¤„ç†ã€‚â€**
>
> -----
>
> `chunker = pd.read_csv('train.csv', chunksize=100)`
>
> ### ä»£ç é€æ®µè§£é‡Š
>
> | ä»£ç æ®µ               | å«ä¹‰                                                         |
> | :------------------- | :----------------------------------------------------------- |
> | `pd.read_csv(...)`   | å‘ŠçŸ¥ Pandas åº“ï¼Œæˆ‘ä»¬è¦è¯»å–ä¸€ä¸ª CSV æ–‡ä»¶ã€‚                    |
> | `'train.csv'`        | æŒ‡å®šè¦è¯»å–çš„æ–‡ä»¶åï¼ˆå‡è®¾è¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„è®­ç»ƒæ•°æ®é›†æ–‡ä»¶ï¼‰ã€‚     |
> | **`chunksize=1000`** | **å…³é”®å‚æ•°ï¼š** æŒ‡å®šæ¯æ¬¡è¯»å–æ–‡ä»¶æ—¶ï¼Œè¦è¯»å–çš„è¡Œæ•°ã€‚è¿™é‡Œè®¾ç½®ä¸º **1000 è¡Œ**ã€‚ |
> | `chunker = ...`      | å°†è¯»å–çš„ç»“æœèµ‹å€¼ç»™ä¸€ä¸ªåä¸º `chunker` çš„å˜é‡ã€‚                |
>
> -----
>
> ###  `chunksize` å‚æ•°çš„ä½œç”¨å’ŒåŸç†
>
> å½“ä¸€ä¸ªæ–‡ä»¶éå¸¸å¤§ï¼ˆæ¯”å¦‚æœ‰å‡ ç™¾ä¸‡è¡Œï¼Œç”šè‡³å‡  GBï¼‰æ—¶ï¼Œä½ çš„è®¡ç®—æœºå†…å­˜å¯èƒ½ä¸è¶³ä»¥ä¸€æ¬¡æ€§å­˜å‚¨æ•´ä¸ªæ–‡ä»¶ï¼Œæˆ–è€…ä¸€æ¬¡æ€§åŠ è½½ä¼šå¯¼è‡´ç¨‹åºè¿è¡Œç¼“æ…¢ç”šè‡³å´©æºƒã€‚
>
> è®¾ç½®äº† `chunksize` åï¼Œ`pd.read_csv()` å°±ä¸ä¼šè¿”å›ä¸€ä¸ªå®Œæ•´çš„ **DataFrame**ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªç‰¹æ®Šçš„**è¿­ä»£å™¨ (Iterator)** å¯¹è±¡ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå‘½åä¸º `chunker`ã€‚
>
> #### 1\. `chunker` æ˜¯ä»€ä¹ˆï¼Ÿ
>
> `chunker` **ä¸æ˜¯**ä¸€ä¸ªå®Œæ•´çš„ DataFrameï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯ä»¥**è¢«å¾ªç¯**çš„å¯¹è±¡ã€‚
>
> ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ª\*\*â€œæ–‡ä»¶æ¬è¿å·¥â€\*\*ã€‚ä½ å‘Šè¯‰æ¬è¿å·¥ï¼šâ€œæ¯æ¬¡åªç»™æˆ‘æ¬ 1000 è¡Œæ•°æ®ã€‚â€
>
> #### 2\. å¦‚ä½•ä½¿ç”¨ `chunker`ï¼Ÿ
>
> ä½ éœ€è¦ä½¿ç”¨ **`for` å¾ªç¯**æ¥ä» `chunker` ä¸­é€å—åœ°å–å‡ºæ•°æ®ï¼Œè¿›è¡Œå¤„ç†
>
> #### 3\. ä¸ºä»€ä¹ˆä½¿ç”¨åˆ†å—è¯»å–ï¼Ÿ
>
>   * **èŠ‚çœå†…å­˜ (Memory Efficiency)ï¼š** ä½ çš„ç¨‹åºæ°¸è¿œåªåœ¨å†…å­˜ä¸­å¤„ç† 1000 è¡Œæ•°æ®ï¼Œè€Œä¸æ˜¯æ•´ä¸ªæ–‡ä»¶ã€‚
>   * **å¤„ç†è¶…å¤§æ–‡ä»¶ (Big Data)ï¼š** å³ä½¿æ–‡ä»¶å¤§å°è¶…è¿‡äº†ä½ ç”µè„‘çš„å¯ç”¨å†…å­˜ï¼Œä¹Ÿå¯ä»¥å®Œæ•´åœ°å¤„ç†å®ƒã€‚
>   * **è¿›åº¦è·Ÿè¸ª (Progress Tracking)ï¼š** å¯ä»¥æ¸…æ™°åœ°çŸ¥é“å¤„ç†æ•°æ®çš„è¿›åº¦ã€‚
>
> æ€»è€Œè¨€ä¹‹ï¼Œ`chunker = pd.read_csv('train.csv', chunksize=1000)` çš„ä½œç”¨å°±æ˜¯**å¼€å¯äº†åˆ†æ‰¹åŠ è½½å¤§æ–‡ä»¶çš„æ¨¡å¼ï¼Œä»¥æé«˜å†…å­˜ä½¿ç”¨æ•ˆç‡å’Œå¤„ç†é€Ÿåº¦**ã€‚
>
> 
>
> 





#### 1.1.4 ä»»åŠ¡å››ï¼šå°†è¡¨å¤´æ”¹æˆä¸­æ–‡ï¼Œç´¢å¼•æ”¹ä¸ºä¹˜å®¢ID [å¯¹äºæŸäº›è‹±æ–‡èµ„æ–™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¿»è¯‘æ¥æ›´ç›´è§‚çš„ç†Ÿæ‚‰æˆ‘ä»¬çš„æ•°æ®]

> PassengerId => ä¹˜å®¢ID  
> Survived    => æ˜¯å¦å¹¸å­˜   
> Pclass      => ä¹˜å®¢ç­‰çº§(1/2/3ç­‰èˆ±ä½)  
> Name        => ä¹˜å®¢å§“å  
> Sex         => æ€§åˆ«                 
> Age         => å¹´é¾„                 
> SibSp       => å ‚å…„å¼Ÿ/å¦¹ä¸ªæ•°  
> Parch       => çˆ¶æ¯ä¸å°å­©ä¸ªæ•°  
> Ticket      => èˆ¹ç¥¨ä¿¡æ¯             
> Fare        => ç¥¨ä»·                
> Cabin       => å®¢èˆ±                
> Embarked    => ç™»èˆ¹æ¸¯å£            



```python
df = pd.read_csv('train.csv', names=['ä¹˜å®¢ID','æ˜¯å¦å¹¸å­˜','ä»“ä½ç­‰çº§','å§“å','æ€§åˆ«','å¹´é¾„','å…„å¼Ÿå§å¦¹ä¸ªæ•°','çˆ¶æ¯å­å¥³ä¸ªæ•°','èˆ¹ç¥¨ä¿¡æ¯','ç¥¨ä»·','å®¢èˆ±','ç™»èˆ¹æ¸¯å£'],index_col='ä¹˜å®¢ID',header=0)
df.head()   # æŸ¥çœ‹æ•°æ®å‰5è¡Œè¾“å‡º(é»˜è®¤)ï¼Œå¦‚æœæƒ³è¦å¤šæŸ¥çœ‹å‡ è¡Œå¯ä»¥å¯¹head()ä¼ å‚
```



ã€æ€è€ƒã€‘æ‰€è°“å°†è¡¨å¤´æ”¹ä¸ºä¸­æ–‡å…¶ä¸­ä¸€ä¸ªæ€è·¯æ˜¯ï¼šå°†è‹±æ–‡åˆ—åè¡¨å¤´æ›¿æ¢æˆä¸­æ–‡ã€‚è¿˜æœ‰å…¶ä»–çš„æ–¹æ³•å—ï¼Ÿ

> å°†è¡¨å¤´æ”¹æˆä¸­æ–‡å¹¶å°†ç´¢å¼•æ”¹ä¸ºä¹˜å®¢IDï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼å®ç°ï¼š
>
> ### æ–¹æ³• 1ï¼šåœ¨è¯»å–æ•°æ®æ—¶ç›´æ¥æŒ‡å®šåˆ—åå’Œç´¢å¼•
>
> ä½¿ç”¨ `pd.read_csv()` çš„ `names` å‚æ•°æŒ‡å®šä¸­æ–‡åˆ—åï¼ŒåŒæ—¶é€šè¿‡ `index_col` å‚æ•°è®¾ç½®ç´¢å¼•ä¸ºä¹˜å®¢IDã€‚
>
> ```python
> df = pd.read_csv(
>  'train.csv',
>  names=['ä¹˜å®¢ID', 'æ˜¯å¦å¹¸å­˜', 'ä¹˜å®¢ç­‰çº§', 'ä¹˜å®¢å§“å', 'æ€§åˆ«', 'å¹´é¾„', 'å ‚å…„å¼Ÿ/å¦¹ä¸ªæ•°', 'çˆ¶æ¯ä¸å°å­©ä¸ªæ•°', 'èˆ¹ç¥¨ä¿¡æ¯', 'ç¥¨ä»·', 'å®¢èˆ±', 'ç™»èˆ¹æ¸¯å£'],
>  index_col='ä¹˜å®¢ID',
>  header=0  # è·³è¿‡åŸå§‹è¡¨å¤´
> )
> df.head()
> ```
>
> ---
>
> ### æ–¹æ³• 2ï¼šè¯»å–åä¿®æ”¹åˆ—åå’Œç´¢å¼•
>
> å…ˆè¯»å–æ•°æ®ï¼Œå†é€šè¿‡ `columns` å±æ€§å’Œ `set_index()` æ–¹æ³•ä¿®æ”¹åˆ—åå’Œç´¢å¼•ã€‚
>
> ```python
> df = pd.read_csv('train.csv')
> 
> # ä¿®æ”¹åˆ—å
> df.columns = ['ä¹˜å®¢ID', 'æ˜¯å¦å¹¸å­˜', 'ä¹˜å®¢ç­‰çº§', 'ä¹˜å®¢å§“å', 'æ€§åˆ«', 'å¹´é¾„', 'å ‚å…„å¼Ÿ/å¦¹ä¸ªæ•°', 'çˆ¶æ¯ä¸å°å­©ä¸ªæ•°', 'èˆ¹ç¥¨ä¿¡æ¯', 'ç¥¨ä»·', 'å®¢èˆ±', 'ç™»èˆ¹æ¸¯å£']
> 
> # è®¾ç½®ç´¢å¼•
> df = df.set_index('ä¹˜å®¢ID')
> df.head()
> ```
>
> ---
>
> ### æ–¹æ³• 3ï¼šä½¿ç”¨å­—å…¸æ˜ å°„æ›¿æ¢åˆ—å
>
> é€šè¿‡å­—å…¸æ˜ å°„æ›¿æ¢åˆ—åï¼Œé€‚åˆåˆ—åè¾ƒå¤šä¸”éœ€è¦åŠ¨æ€ä¿®æ”¹çš„æƒ…å†µã€‚
>
> ```python
> df = pd.read_csv('train.csv')
> 
> # åˆ›å»ºè‹±æ–‡åˆ°ä¸­æ–‡çš„æ˜ å°„å­—å…¸
> column_mapping = {
>  'PassengerId': 'ä¹˜å®¢ID',
>  'Survived': 'æ˜¯å¦å¹¸å­˜',
>  'Pclass': 'ä¹˜å®¢ç­‰çº§',
>  'Name': 'ä¹˜å®¢å§“å',
>  'Sex': 'æ€§åˆ«',
>  'Age': 'å¹´é¾„',
>  'SibSp': 'å ‚å…„å¼Ÿ/å¦¹ä¸ªæ•°',
>  'Parch': 'çˆ¶æ¯ä¸å°å­©ä¸ªæ•°',
>  'Ticket': 'èˆ¹ç¥¨ä¿¡æ¯',
>  'Fare': 'ç¥¨ä»·',
>  'Cabin': 'å®¢èˆ±',
>  'Embarked': 'ç™»èˆ¹æ¸¯å£'
> }
> 
> # æ›¿æ¢åˆ—å
> df.rename(columns=column_mapping, inplace=True)
> 
> # è®¾ç½®ç´¢å¼•
> df.set_index('ä¹˜å®¢ID', inplace=True)
> df.head()
> ```
>
> ---
>
> ### æ–¹æ³• 4ï¼šé€åˆ—ä¿®æ”¹åˆ—å
>
> å¦‚æœåªéœ€è¦ä¿®æ”¹éƒ¨åˆ†åˆ—åï¼Œå¯ä»¥é€šè¿‡ `rename()` æ–¹æ³•é€åˆ—ä¿®æ”¹ã€‚
>
> ```python
> df = pd.read_csv('train.csv')
> 
> # ä¿®æ”¹éƒ¨åˆ†åˆ—å
> df.rename(columns={
>  'PassengerId': 'ä¹˜å®¢ID',
>  'Survived': 'æ˜¯å¦å¹¸å­˜'
> }, inplace=True)
> 
> # è®¾ç½®ç´¢å¼•
> df.set_index('ä¹˜å®¢ID', inplace=True)
> df.head()
> ```



- åœ¨ä¸Šé¢çš„æ–¹æ³•ä¸‰ã€å››ä¸­ `inplace=True`så®ç°äº†ä»€ä¹ˆåŠŸèƒ½

> åœ¨ Pandas ä¸­ï¼Œ`inplace=True` æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„å‚æ•°ï¼Œå®ƒçš„å«ä¹‰æ˜¯ï¼š**ç›´æ¥åœ¨åŸå¯¹è±¡ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œè€Œä¸æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚**
>
> ç®€å•æ¥è¯´ï¼Œå°±æ˜¯**â€œåŸåœ°ä¿®æ”¹â€**ã€‚
>
> ### è¯¦ç»†å¯¹æ¯”
>
> #### 1. é»˜è®¤æƒ…å†µ (`inplace=False`)
>
> å¦‚æœä½ ä¸å†™è¿™ä¸ªå‚æ•°ï¼Œæˆ–è€…è®¾ç½®ä¸º `False`ï¼ˆè¿™æ˜¯é»˜è®¤å€¼ï¼‰ï¼ŒPandas ä¸ä¼šæ”¹å˜åŸæœ¬çš„ `df` å˜é‡ï¼Œè€Œæ˜¯æŠŠä¿®æ”¹åçš„ç»“æœä½œä¸ºä¸€ä¸ª**æ–°çš„ DataFrame** è¿”å›ç»™ä½ ã€‚ä½ éœ€è¦ç”¨å˜é‡å»æ¥æ”¶å®ƒã€‚
>
> ```python
> # âŒ åŸæ¥çš„ df ä¸ä¼šå˜
> df.rename(columns=column_mapping) 
> 
> # âœ… éœ€è¦èµ‹å€¼ç»™å˜é‡æ‰èƒ½ä¿å­˜ä¿®æ”¹
> df_new = df.rename(columns=column_mapping) 
> # æˆ–è€…è¦†ç›–åŸå˜é‡
> df = df.rename(columns=column_mapping)
> ```
>
> #### 2. ä½¿ç”¨ `inplace=True`
>
> å¦‚æœä½ è®¾ç½®ä¸º `True`ï¼ŒPandas ä¼šç›´æ¥ä¿®æ”¹å†…å­˜ä¸­çš„ `df` å¯¹è±¡ã€‚è¿™ä¸ªæ“ä½œ**æ²¡æœ‰è¿”å›å€¼**ï¼ˆè¿”å› `None`ï¼‰ï¼Œä½† `df` æœ¬èº«å˜äº†ã€‚
>
> ```python
> # âœ… åŸæ¥çš„ df ç›´æ¥è¢«ä¿®æ”¹äº†
> df.rename(columns=column_mapping, inplace=True)
> 
> # âŒ åƒä¸‡ä¸è¦è¿™æ ·å†™ï¼Œå› ä¸º inplace=True è¿”å›çš„æ˜¯ None
> # df = df.rename(columns=column_mapping, inplace=True)  <-- è¿™æ · df ä¼šå˜æˆ None
> ```
>
> ### æ€»ç»“
>
> *   **`inplace=False` (é»˜è®¤)**ï¼š**â€œç»™æˆ‘ä¸€ä»½æ”¹å¥½çš„å¤å°ä»¶ï¼ŒåŸä»¶ä¸è¦åŠ¨ã€‚â€**ï¼ˆå®‰å…¨ï¼Œé€‚åˆé“¾å¼è°ƒç”¨ï¼‰
> *   **`inplace=True`**ï¼š**â€œç›´æ¥åœ¨åŸä»¶ä¸Šæ”¹ã€‚â€**ï¼ˆçœå»èµ‹å€¼æ­¥éª¤ï¼Œä»£ç çœ‹èµ·æ¥ç®€æ´ä¸€äº›ï¼‰



---

### 1.2 åˆæ­¥è§‚å¯Ÿ

å¯¼å…¥æ•°æ®åï¼Œä½ å¯èƒ½è¦å¯¹æ•°æ®çš„æ•´ä½“ç»“æ„å’Œæ ·ä¾‹è¿›è¡Œæ¦‚è§ˆï¼Œæ¯”å¦‚è¯´ï¼Œæ•°æ®å¤§å°ã€æœ‰å¤šå°‘åˆ—ï¼Œå„åˆ—éƒ½æ˜¯ä»€ä¹ˆæ ¼å¼çš„ï¼Œæ˜¯å¦åŒ…å«nullç­‰

#### 1.2.1 ä»»åŠ¡ä¸€ï¼šæŸ¥çœ‹æ•°æ®çš„åŸºæœ¬ä¿¡æ¯


```python
df.info()
```

    <class 'pandas.core.frame.DataFrame'>
    Index: 891 entries, 1 to 891
    Data columns (total 11 columns):
     #   Column  Non-Null Count  Dtype  
    ---  ------  --------------  -----  
     0   æ˜¯å¦å¹¸å­˜    891 non-null    int64  
     1   ä»“ä½ç­‰çº§    891 non-null    int64  
     2   å§“å      891 non-null    object 
     3   æ€§åˆ«      891 non-null    object 
     4   å¹´é¾„      714 non-null    float64
     5   å…„å¼Ÿå§å¦¹ä¸ªæ•°  891 non-null    int64  
     6   çˆ¶æ¯å­å¥³ä¸ªæ•°  891 non-null    int64  
     7   èˆ¹ç¥¨ä¿¡æ¯    891 non-null    object 
     8   ç¥¨ä»·      891 non-null    float64
     9   å®¢èˆ±      204 non-null    object 
     10  ç™»èˆ¹æ¸¯å£    889 non-null    object 
    dtypes: float64(2), int64(4), object(5)
    memory usage: 83.5+ KB

 




- è¾“å‡ºç»“æœè§£é‡Š

> Pandas DataFrame çš„ **`.info()`** æ–¹æ³•çš„è¿è¡Œç»“æœï¼Œå®ƒæä¾›äº†å…³äºè¿™ä¸ªæ•°æ®é›†ï¼ˆDataFrameï¼‰çš„**ç®€æ´ã€æ¦‚è¦çš„ä¿¡æ¯**ã€‚
>
> æˆ‘ä»¬å¯ä»¥å°†è¿™äº›ä¿¡æ¯åˆ†ä¸ºå‡ ä¸ªå…³é”®éƒ¨åˆ†æ¥ç†è§£ï¼š
>
> ### 1. æ•´ä½“ç»“æ„ä¿¡æ¯
>
> * `<class 'pandas.core.frame.DataFrame'>`ï¼š
>   * **å«ä¹‰ï¼š** ç¡®è®¤è¿™ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ª **Pandas DataFrame** ç±»å‹ï¼Œè¿™æ˜¯ Pandas ä¸­æœ€å¸¸ç”¨çš„äºŒç»´ï¼ˆè¡¨æ ¼å‹ï¼‰æ•°æ®ç»“æ„ã€‚
> * `Int64Index: 891 entries, 1 to 891`ï¼š
>   * **å«ä¹‰ï¼š** æè¿°æ•°æ®çš„**è¡Œä¿¡æ¯**ã€‚
>     * **æ€»è¡Œæ•° (Entries)ï¼š** å…±æœ‰ **891** æ¡è®°å½•ï¼ˆæˆ–è¡Œï¼‰ã€‚
>     * **ç´¢å¼• (Index)ï¼š** ç´¢å¼•ç±»å‹æ˜¯ 64 ä½æ•´æ•° (`Int64Index`)ï¼ŒèŒƒå›´æ˜¯ä» **1 åˆ° 891**ã€‚è¿™è¡¨æ˜æ•°æ®çš„ç´¢å¼•æ˜¯ä» 1 å¼€å§‹çš„ï¼Œè€Œä¸æ˜¯é»˜è®¤çš„ 0 å¼€å§‹ã€‚
> * `Data columns (total 11 columns)`ï¼š
>   * **å«ä¹‰ï¼š** æè¿°æ•°æ®çš„**åˆ—ä¿¡æ¯**ã€‚
>     * **æ€»åˆ—æ•°ï¼š** å…±æœ‰ **11** åˆ—ã€‚
>
> ---
>
> ### 2. åˆ—è¯¦ç»†ä¿¡æ¯ï¼ˆæ•°æ®è´¨é‡æ£€æŸ¥çš„æ ¸å¿ƒï¼‰
>
> è¿™éƒ¨åˆ†æ˜¯ `.info()` è¾“å‡ºæœ€é‡è¦çš„éƒ¨åˆ†ï¼Œå®ƒè¯¦ç»†åˆ—å‡ºäº†æ¯ä¸€åˆ—çš„æ•°æ®æƒ…å†µã€‚
>
> | åºå· | åˆ—å (Column)    | éç©ºå€¼è®¡æ•° (Non-Null Count) | æ•°æ®ç±»å‹ (Dtype) | ç¼ºå¤±å€¼æƒ…å†µ             |
> | :--- | :--------------- | :-------------------------- | :--------------- | :--------------------- |
> | 0    | **æ˜¯å¦å¹¸å­˜**     | 891 non-null                | `int64`          | **æ— ç¼ºå¤±å€¼** (891/891) |
> | 1    | **ä»“ä½ç­‰çº§**     | 891 non-null                | `int64`          | **æ— ç¼ºå¤±å€¼** (891/891) |
> | 2    | **å§“å**         | 891 non-null                | `object`         | **æ— ç¼ºå¤±å€¼**           |
> | 3    | **æ€§åˆ«**         | 891 non-null                | `object`         | **æ— ç¼ºå¤±å€¼**           |
> | 4    | **å¹´é¾„**         | **714 non-null**            | `float64`        | **æœ‰ç¼ºå¤±å€¼** (177 ä¸ª)  |
> | 5    | **å…„å¼Ÿå§å¦¹ä¸ªæ•°** | 891 non-null                | `int64`          | **æ— ç¼ºå¤±å€¼**           |
> | 9    | **å®¢èˆ±**         | **204 non-null**            | `object`         | **ä¸¥é‡ç¼ºå¤±** (687 ä¸ª)  |
> | 10   | **ç™»èˆ¹æ¸¯å£**     | **889 non-null**            | `object`         | **æœ‰ç¼ºå¤±å€¼** (2 ä¸ª)    |
>
> ### å…³é”®æ•°æ®ç±»å‹è§£é‡Šï¼š
>
> * **`int64` (Integer 64-bit)ï¼š** 64 ä½æ•´æ•°ã€‚é€šå¸¸ç”¨äºå­˜å‚¨**æ•´æ•°**æ•°æ®ï¼ˆå¦‚è®¡æ•°ã€IDã€ç­‰çº§ï¼‰ã€‚
> * **`float64` (Float 64-bit)ï¼š** 64 ä½æµ®ç‚¹æ•°ã€‚ç”¨äºå­˜å‚¨**å°æ•°**æ•°æ®ï¼ˆå¦‚å¹´é¾„ã€ç¥¨ä»·ï¼‰ã€‚
> * **`object`ï¼š** å­—ç¬¦ä¸²ï¼ˆæ–‡æœ¬ï¼‰ç±»å‹ã€‚ç”¨äºå­˜å‚¨**æ–‡æœ¬**æ•°æ®ï¼ˆå¦‚å§“åã€å®¢èˆ±å·ï¼‰ã€‚
>
> ### ç¼ºå¤±å€¼åˆ†æï¼š
>
> é€šè¿‡æ¯”è¾ƒæ€»è¡Œæ•° (891) å’Œ Non-Null Countï¼Œæˆ‘ä»¬å¯ä»¥è¿…é€Ÿå‘ç°æ•°æ®é›†ä¸­çš„ **ç¼ºå¤±æ•°æ® (Missing Values)**ï¼š
>
> * **å¹´é¾„ï¼š** åªæœ‰ 714 ä¸ªéç©ºå€¼ï¼Œæ„å‘³ç€æœ‰ $891 - 714 = \mathbf{177}$ ä¸ªç¼ºå¤±å€¼ã€‚
> * **å®¢èˆ±ï¼š** åªæœ‰ 204 ä¸ªéç©ºå€¼ï¼Œæ„å‘³ç€æœ‰ $891 - 204 = \mathbf{687}$ ä¸ªç¼ºå¤±å€¼ï¼ˆç¼ºå¤±ç‡éå¸¸é«˜ï¼‰ã€‚
> * **ç™»èˆ¹æ¸¯å£ï¼š** åªæœ‰ 889 ä¸ªéç©ºå€¼ï¼Œæ„å‘³ç€æœ‰ $\mathbf{2}$ ä¸ªç¼ºå¤±å€¼ã€‚
>
> è¿™äº›ç¼ºå¤±å€¼éœ€è¦åœ¨åç»­çš„æ•°æ®æ¸…æ´—å’Œé¢„å¤„ç†é˜¶æ®µè¿›è¡Œå¤„ç†ï¼ˆæ¯”å¦‚å¡«å……æˆ–åˆ é™¤ï¼‰ã€‚
>
> ---
>
> ### 3.  èµ„æºä½¿ç”¨ä¿¡æ¯
>
> * `dtypes: float64(2), int64(4), object(5)`ï¼š
>   * **å«ä¹‰ï¼š** æ€»ç»“äº†æ•°æ®ç±»å‹åœ¨æ•´ä¸ª DataFrame ä¸­çš„åˆ†å¸ƒã€‚
>     * æœ‰ 2 åˆ—æ˜¯ `float64` ç±»å‹ã€‚
>     * æœ‰ 4 åˆ—æ˜¯ `int64` ç±»å‹ã€‚
>     * æœ‰ 5 åˆ—æ˜¯ `object`ï¼ˆå­—ç¬¦ä¸²ï¼‰ç±»å‹ã€‚
> * `memory usage: 83.5+ KB`ï¼š
>   * **å«ä¹‰ï¼š** ä¼°ç®—è¿™ä¸ª DataFrame åœ¨å†…å­˜ä¸­æ‰€å ç”¨çš„ç©ºé—´å¤§çº¦æ˜¯ **83.5 åƒå­—èŠ‚ (KB)**ã€‚è¿™ä¸ªæ•°å€¼å¯ä»¥å¸®åŠ©ä½ è¯„ä¼°å¤„ç†æ›´å¤§æ–‡ä»¶æ—¶çš„å†…å­˜éœ€æ±‚ã€‚
>
> æ€»è€Œè¨€ä¹‹ï¼Œ`.info()` æ˜¯è¿›è¡Œ**åˆæ­¥æ•°æ®æ¢ç´¢**å’Œ**æ•°æ®è´¨é‡æ£€æŸ¥**æ—¶æœ€é‡è¦çš„ä¸€æ­¥ï¼Œå®ƒè®©ä½ å¿«é€Ÿäº†è§£æ•°æ®çš„è§„æ¨¡ã€ç±»å‹å’Œå®Œæ•´æ€§ã€‚
>
> 





- `df.info å’Œ df.info()`æœ‰ä»€ä¹ˆåŒºåˆ«

> è¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„ Python åˆå­¦è€…é—®é¢˜ï¼Œè§¦åŠäº†**æ–¹æ³•è°ƒç”¨ï¼ˆCallï¼‰**ä¸**å¯¹è±¡å¼•ç”¨ï¼ˆReferenceï¼‰**çš„æ ¸å¿ƒåŒºåˆ«ã€‚
>
> ç®€å•æ¥è¯´ï¼š**å¸¦æ‹¬å·æ˜¯â€œåšåŠ¨ä½œâ€ï¼Œä¸å¸¦æ‹¬å·æ˜¯â€œçœ‹è¯´æ˜ä¹¦â€ã€‚**
>
> ä»¥ä¸‹æ˜¯è¯¦ç»†å¯¹æ¯”åˆ†æï¼š
>
> ### 1. `df.info()` â€”â€” æ‰§è¡Œæ–¹æ³•ï¼ˆåšåŠ¨ä½œï¼‰
>
> *   **å«ä¹‰**ï¼šè¿™æ˜¯åœ¨**è°ƒç”¨**ï¼ˆCallï¼‰è¿™ä¸ªå‡½æ•°ã€‚ä½ å‘Šè¯‰ Pythonï¼šâ€œç°åœ¨ç«‹åˆ»è¿è¡Œ `info` è¿™ä¸ªåŠŸèƒ½ã€‚â€
> *   **ç»“æœ**ï¼šPython ä¼šæ‰§è¡Œ `info` å†…éƒ¨çš„ä»£ç ï¼Œè®¡ç®—å¹¶æ‰“å°å‡º DataFrame çš„è¯¦ç»†æ‘˜è¦ï¼ˆè¡Œæ•°ã€åˆ—æ•°ã€éç©ºå€¼ã€å†…å­˜å ç”¨ç­‰ï¼‰ã€‚
> *   **ä½ åœ¨æ•°æ®åˆ†æä¸­éœ€è¦çš„**ï¼šæ­£æ˜¯è¿™ä¸ªã€‚
>
> **ä»£ç ç¤ºä¾‹ï¼š**
>
> ```python
> df.info()
> ```
>
> **è¾“å‡ºç»“æœï¼ˆç¤ºä¾‹ï¼‰ï¼š**
>
> ```text
> <class 'pandas.core.frame.DataFrame'>
> Int64Index: 891 entries, 1 to 891
> Data columns (total 12 columns):
>  #   Column    Non-Null Count  Dtype  
> ---  ------    --------------  -----  
>  0   æ˜¯å¦å¹¸å­˜      891 non-null    int64  
>  ... (çœç•¥ä¸­é—´å†…å®¹) ...
> dtypes: float64(2), int64(5), object(5)
> memory usage: 90.5+ KB
> ```
>
> ---
>
> ### 2. `df.info` â€”â€” æŸ¥çœ‹å¯¹è±¡ï¼ˆçœ‹è¯´æ˜ä¹¦ï¼‰
>
> *   **å«ä¹‰**ï¼šè¿™æ˜¯åœ¨**å¼•ç”¨**è¿™ä¸ªå±æ€§ã€‚ä½ å‘Šè¯‰ Pythonï¼šâ€œæˆ‘æƒ³çœ‹çœ‹ `df` å¯¹è±¡é‡Œåä¸º `info` çš„é‚£ä¸ªä¸œè¥¿æ˜¯ä»€ä¹ˆã€‚â€
> *   **ç»“æœ**ï¼šPython ä¸ä¼šè¿è¡Œä»£ç ï¼Œè€Œæ˜¯å‘Šè¯‰ä½ ï¼šâ€œè¿™æ˜¯ä¸€ä¸ªç»‘å®šåœ¨ DataFrame ä¸Šçš„æ–¹æ³•å¯¹è±¡ã€‚â€
> *   **ä½ åœ¨æ•°æ®åˆ†æä¸­éœ€è¦çš„**ï¼šé€šå¸¸ä¸éœ€è¦ï¼Œé™¤éä½ åœ¨åšé«˜çº§ç¼–ç¨‹ï¼ˆæ¯”å¦‚æŠŠè¿™ä¸ªå‡½æ•°èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼‰ã€‚
>
> **ä»£ç ç¤ºä¾‹ï¼š**
>
> ```python
> df.info
> ```
>
> **è¾“å‡ºç»“æœï¼ˆç¤ºä¾‹ï¼‰ï¼š**
>
> ```text
> <bound method DataFrame.info of      æ˜¯å¦å¹¸å­˜  ä»“ä½ç­‰çº§     å§“å     æ€§åˆ«     å¹´é¾„  ...  çˆ¶æ¯å­å¥³ä¸ªæ•°            èˆ¹ç¥¨ä¿¡æ¯     ç¥¨ä»·    å®¢èˆ±  ç™»èˆ¹æ¸¯å£
> ä¹˜å®¢ID                                      ...                                         
> 1       0     3  Braund...  male   22.0  ...       0       A/5 21171   7.25   NaN     S
> 2       1     1  Cuming... female  38.0  ...       0        PC 17599  71.28   C85     C
> ...
> [891 rows x 11 columns]>
> ```
>
> *(æ³¨æ„ï¼šå®ƒåªæ˜¯æ‰“å°å‡ºäº†è¿™ä¸ªæ–¹æ³•çš„æè¿°ä¿¡æ¯ï¼Œå¹¶æ²¡æœ‰ç»Ÿè®¡æ•°æ®çš„éç©ºå€¼æˆ–ç±»å‹)*
>
> ---
>
> ### æ€»ç»“å¯¹æ¯”è¡¨
>
> | ç‰¹æ€§             | `df.info()` (å¸¦æ‹¬å·)              | `df.info` (ä¸å¸¦æ‹¬å·)            |
> | :--------------- | :-------------------------------- | :------------------------------ |
> | **æœ¬è´¨**         | **å‡½æ•°è°ƒç”¨ (Function Call)**      | **å¯¹è±¡å¼•ç”¨ (Object Reference)** |
> | **æ¯”å–»**         | **æŒ‰ä¸‹**é¥æ§å™¨ä¸Šçš„â€œæ’­æ”¾â€é”®        | **æ‰‹æŒ‡ç€**é¥æ§å™¨ä¸Šçš„â€œæ’­æ”¾â€é”®    |
> | **ä½œç”¨**         | æ‰§è¡Œä»£ç ï¼Œè®¡ç®—å¹¶æ˜¾ç¤ºæ•°æ®æ‘˜è¦      | æŸ¥çœ‹è¿™ä¸ªæ–¹æ³•æœ¬èº«åœ¨å†…å­˜ä¸­çš„æ ·å­  |
> | **æ˜¯å¦æœ‰è¿”å›å€¼** | æœ‰ï¼ˆé€šå¸¸æ‰“å°åˆ°æ§åˆ¶å°æˆ–è¿”å› Noneï¼‰ | æœ‰ï¼ˆè¿”å›æ–¹æ³•å¯¹è±¡æœ¬èº«ï¼‰          |
> | **å¸¸ç”¨åœºæ™¯**     | **99.9% çš„æƒ…å†µ**ï¼ˆæŸ¥çœ‹æ•°æ®ä¿¡æ¯ï¼‰  | æå°‘ï¼ˆè°ƒè¯•æˆ–é«˜é˜¶å‡½æ•°å¼ç¼–ç¨‹ï¼‰    |
>
> ### ç»“è®º
>
> åœ¨åšæ•°æ®åˆ†ææŸ¥çœ‹æ•°æ®æ¦‚å†µæ—¶ï¼Œ**è¯·åŠ¡å¿…åŠ ä¸Šæ‹¬å· `()`**ã€‚









#### 1.2.2 ä»»åŠ¡äºŒï¼šè§‚å¯Ÿè¡¨æ ¼å‰10è¡Œçš„æ•°æ®å’Œå15è¡Œçš„æ•°æ®


```python
df.head(10)
```


```python
df.tail(15)
```

> è®°ä½ç›¸å…³è¯­æ³•å°±å¯ä»¥ï¼Œè¿™é‡Œå°±ä¸å±•ç¤ºç»“æœäº†ã€‚





#### 1.2.3ä»»åŠ¡ä¸‰ï¼šåˆ¤æ–­æ•°æ®æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºçš„åœ°æ–¹è¿”å›Trueï¼Œå…¶ä½™åœ°æ–¹è¿”å›False


```python
df.isnull().head()
# å±•ç¤ºå‰ 5 è¡Œæ•°æ®çš„ç¼ºå¤±å€¼åˆ†å¸ƒæƒ…å†µï¼ˆTrue è¡¨ç¤ºç¼ºå¤±ï¼‰
```

> `.isnull()`æ–¹æ³•æ˜¯æŸ¥çœ‹ç©ºç¼ºå€¼ ï¼Œè¿™é‡Œç»“åˆ`.head()`æ–¹æ³•ä¸€èµ·ä½¿ç”¨ã€‚é¿å…ä¸€æ¬¡æ€§è¾“å‡ºè¿‡å¤š

ã€æ€»ç»“ã€‘ä¸Šé¢çš„æ“ä½œéƒ½æ˜¯æ•°æ®åˆ†æä¸­å¯¹äºæ•°æ®æœ¬èº«çš„è§‚å¯Ÿ

ã€æ€è€ƒã€‘å¯¹äºä¸€ä¸ªæ•°æ®ï¼Œè¿˜å¯ä»¥ä»å“ªäº›æ–¹é¢æ¥è§‚å¯Ÿï¼Ÿæ‰¾æ‰¾ç­”æ¡ˆï¼Œè¿™ä¸ªå°†å¯¹ä¸‹é¢çš„æ•°æ®åˆ†ææœ‰å¾ˆå¤§çš„å¸®åŠ©





- å¯¹äºä¸€ä¸ªæ•°æ®ï¼Œè¿˜å¯ä»¥ä»å“ªäº›æ–¹é¢æ¥è§‚å¯Ÿï¼Ÿ

> é™¤äº†ä¸Šè¿°çš„çš„æŸ¥çœ‹å¤´å°¾è¡Œ (`head/tail`)ã€åŸºæœ¬ä¿¡æ¯ (`info`) å’Œç¼ºå¤±å€¼ (`isnull`) ä¹‹å¤–ï¼Œæ•°æ®è§‚å¯Ÿï¼ˆExploratory Data Analysis, EDAï¼‰é€šå¸¸è¿˜éœ€è¦ä»ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒç»´åº¦è¿›è¡Œæ·±å…¥ï¼š
>
> ### 1. æè¿°æ€§ç»Ÿè®¡åˆ†æ (Descriptive Statistics)
>
> è¿™æ˜¯æœ€ç›´æ¥äº†è§£æ•°æ®æ•°å€¼åˆ†å¸ƒçš„æ–¹æ³•ã€‚
>
> *   **æ–¹æ³•**ï¼š`df.describe()`
> *   **è§‚å¯Ÿç‚¹**ï¼š
>     *   **å‡å€¼ (mean)** vs **ä¸­ä½æ•° (50%)**ï¼šå¦‚æœä¸¤è€…ç›¸å·®å¾ˆå¤§ï¼Œè¯´æ˜æ•°æ®å­˜åœ¨åæ–œï¼ˆSkewnessï¼‰æˆ–å¼‚å¸¸å€¼ã€‚
>     *   **æ ‡å‡†å·® (std)**ï¼šæ•°æ®æ³¢åŠ¨å¤§ä¸å¤§ï¼Ÿ
>     *   **æœ€å°å€¼ (min) / æœ€å¤§å€¼ (max)**ï¼šæ•°æ®èŒƒå›´æ˜¯å¦åˆç†ï¼Ÿï¼ˆä¾‹å¦‚ï¼šå¹´é¾„ä¸åº”ä¸ºè´Ÿæ•°ï¼Œç¥¨ä»·ä¸åº”æ— ç©·å¤§ï¼‰ã€‚
>
> ```python
> # æŸ¥çœ‹æ•°å€¼å‹åˆ—çš„ç»Ÿè®¡æ‘˜è¦
> df.describe()
> ```
>
> ### 2. å”¯ä¸€å€¼ä¸è®¡æ•° (Unique Values & Counts)
>
> å¯¹äºåˆ†ç±»æ•°æ®ï¼ˆå¦‚æ€§åˆ«ã€ç™»èˆ¹æ¸¯å£ã€å®¢èˆ±ç­‰çº§ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“æœ‰å“ªäº›ç±»åˆ«ä»¥åŠæ¯ä¸ªç±»åˆ«çš„æ•°é‡ã€‚
>
> *   **æ–¹æ³•**ï¼š
>     *   `df['åˆ—å'].unique()`ï¼šæŸ¥çœ‹æœ‰å“ªäº›å”¯ä¸€å€¼ã€‚
>     *   `df['åˆ—å'].value_counts()`ï¼šæŸ¥çœ‹æ¯ä¸ªç±»åˆ«æœ‰å¤šå°‘æ¡æ•°æ®ã€‚
> *   **è§‚å¯Ÿç‚¹**ï¼š
>     *   æ˜¯å¦å­˜åœ¨æ‹¼å†™é”™è¯¯çš„ç±»åˆ«ï¼ˆå¦‚ "male" å’Œ "Male"ï¼‰ï¼Ÿ
>     *   æ ·æœ¬æ˜¯å¦å‡è¡¡ï¼Ÿï¼ˆä¾‹å¦‚ï¼šå¹¸å­˜è€…å’Œé‡éš¾è€…æ¯”ä¾‹æ˜¯å¦æ‚¬æ®Šï¼Ÿï¼‰
>
> ```python
> # æŸ¥çœ‹â€œæ€§åˆ«â€åˆ—æœ‰å“ªäº›å€¼ï¼Œä»¥åŠå„æœ‰å¤šå°‘äºº
> df['æ€§åˆ«'].value_counts()
> ```
>
> ### 3. æ•°æ®ç±»å‹ä¸æ ¼å¼æ£€æŸ¥ (Data Types & Format)
>
> è™½ç„¶ `info()` ç»™äº†å¤§æ¦‚çš„ç±»å‹ï¼Œä½†æœ‰æ—¶éœ€è¦æ›´ç»†è‡´çš„æ£€æŸ¥ã€‚
>
> *   **è§‚å¯Ÿç‚¹**ï¼š
>     *   **æ•°å€¼æ˜¯å¦è¢«å­˜æˆäº†å­—ç¬¦ä¸²ï¼Ÿ**ï¼ˆä¾‹å¦‚ç¥¨ä»·åˆ—é‡Œæ··å…¥äº† "$" ç¬¦å·å¯¼è‡´å˜æˆ object ç±»å‹ï¼‰ã€‚
>     *   **æ—¶é—´æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Ÿ**ï¼ˆä¾‹å¦‚æ—¥æœŸæ˜¯ "2021-01-01" å­—ç¬¦ä¸²è¿˜æ˜¯ datetime å¯¹è±¡ï¼‰ã€‚
>
> ### 4. å¼‚å¸¸å€¼æ£€æµ‹ (Outlier Detection)
>
> å¯»æ‰¾é‚£äº›â€œæ ¼æ ¼ä¸å…¥â€çš„æ•°æ®ã€‚
>
> *   **æ–¹æ³•**ï¼š
>     *   **æ’åº**ï¼š`df.sort_values(by='åˆ—å')`ï¼Œçœ‹çœ‹æœ€å¤§å’Œæœ€å°çš„å‡ ä¸ªå€¼æ˜¯å¦ç¦»è°±ã€‚
>     *   **å¯è§†åŒ–ï¼ˆç®±çº¿å›¾ï¼‰**ï¼šè™½ç„¶è¿˜æ²¡è®²åˆ°ç»˜å›¾ï¼Œä½†è¿™æ˜¯è§‚å¯Ÿå¼‚å¸¸å€¼æœ€ç›´è§‚çš„æ–¹æ³•ã€‚
> *   **è§‚å¯Ÿç‚¹**ï¼š
>     *   æ¯”å¦‚æ³°å¦å°¼å…‹å·æ•°æ®ä¸­ï¼Œæ˜¯å¦æœ‰å¹´é¾„è¶…è¿‡ 100 å²æˆ–ç¥¨ä»·é«˜è¾¾ 5000 çš„è®°å½•ï¼Ÿ
>
> ### 5. ç›¸å…³æ€§åˆ†æ (Correlation)
>
> è§‚å¯Ÿç‰¹å¾ä¹‹é—´ï¼Œæˆ–è€…ç‰¹å¾ä¸ç›®æ ‡å˜é‡ï¼ˆæ˜¯å¦å¹¸å­˜ï¼‰ä¹‹é—´çš„å…³ç³»ã€‚
>
> *   **æ–¹æ³•**ï¼š`df.corr()`
> *   **è§‚å¯Ÿç‚¹**ï¼š
>     *   ç¥¨ä»·è¶Šé«˜ï¼Œå¹¸å­˜ç‡è¶Šé«˜å—ï¼Ÿ
>     *   å¹´é¾„å’Œå…„å¼Ÿå§å¦¹æ•°é‡æœ‰å…³è”å—ï¼Ÿ
>
> ### æ€»ç»“ä»£ç ç¤ºä¾‹
>
> ä½ å¯ä»¥å°è¯•è¿è¡Œä»¥ä¸‹ä»£ç æ¥æ‰©å±•ä½ çš„è§‚å¯Ÿè§†è§’ï¼š
>
> ```python
> # 1. ç»Ÿè®¡æ‘˜è¦ï¼ˆå¿«é€Ÿçœ‹æ•°å€¼åˆ†å¸ƒï¼‰
> print("--- ç»Ÿè®¡æ‘˜è¦ ---")
> print(df.describe())
> 
> # 2. æŸ¥çœ‹åˆ†ç±»æ•°æ®çš„åˆ†å¸ƒï¼ˆä¾‹å¦‚ï¼šæŸ¥çœ‹ç”·å¥³æ¯”ä¾‹ï¼‰
> print("\n--- æ€§åˆ«åˆ†å¸ƒ ---")
> print(df['æ€§åˆ«'].value_counts())
> 
> # 3. æ’åºè§‚å¯Ÿï¼ˆä¾‹å¦‚ï¼šçœ‹çœ‹ç¥¨ä»·æœ€é«˜çš„å‰ 5 ä¸ªäººï¼‰
> print("\n--- ç¥¨ä»·æœ€é«˜çš„ 5 äºº ---")
> print(df.sort_values(by='ç¥¨ä»·', ascending=False).head(5))
> ```



- `.isnull()`åˆ¤æ–­ä¸ºç©ºçš„æœºåˆ¶æ˜¯ä»€ä¹ˆ? ç©ºå€¼å¯èƒ½æ˜¯æ²¡æœ‰å¡«å…… Nan None...

> ç†è§£ Pandas å¦‚ä½•å®šä¹‰â€œç©ºå€¼â€å¯¹äºæ•°æ®æ¸…æ´—è‡³å…³é‡è¦ã€‚
>
> ### 1. `df.isnull().head()` è¯­å¥è§£é‡Š
>
> è¿™è¡Œä»£ç æ˜¯ä¸¤ä¸ªæ–¹æ³•çš„é“¾å¼è°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ‹†è§£æ¥çœ‹ï¼š
>
> 1.  **`df.isnull()`**ï¼š
>     *   **ä½œç”¨**ï¼šå®ƒä¼šéå†æ•´ä¸ª DataFrameï¼Œåˆ¤æ–­æ¯ä¸€ä¸ªå•å…ƒæ ¼æ˜¯å¦ä¸ºâ€œç©ºâ€ã€‚
>     *   **è¿”å›ç»“æœ**ï¼šè¿”å›ä¸€ä¸ª**ä¸åŸ DataFrame å½¢çŠ¶å®Œå…¨ä¸€æ ·**çš„æ–° DataFrameï¼Œä½†é‡Œé¢çš„å†…å®¹å˜æˆäº†å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ï¼š
>         *   å¦‚æœåŸä½ç½®æ˜¯ç©ºå€¼ï¼Œæ˜¾ç¤º `True`ã€‚
>         *   å¦‚æœåŸä½ç½®æœ‰æ•°æ®ï¼Œæ˜¾ç¤º `False`ã€‚
> 2.  **`.head()`**ï¼š
>     *   **ä½œç”¨**ï¼šå–å‰ 5 è¡Œã€‚
>     *   **ç›®çš„**ï¼šå› ä¸ºæ•´ä¸ªè¡¨å¯èƒ½å¾ˆå¤§ï¼Œæ‰“å°å‡ºæ¥çœ‹ä¸æ¸…ï¼Œæˆ‘ä»¬åªçœ‹å‰ 5 è¡Œçš„å¸ƒå°”å€¼ç»“æœï¼Œå¿«é€Ÿæ£€æŸ¥ä¸€ä¸‹å“ªäº›åˆ—å¯èƒ½å­˜åœ¨ç¼ºå¤±æ•°æ®ã€‚
>
> **æ€»ç»“**ï¼šè¿™è¡Œä»£ç çš„ä½œç”¨æ˜¯**â€œå±•ç¤ºå‰ 5 è¡Œæ•°æ®çš„ç¼ºå¤±å€¼åˆ†å¸ƒæƒ…å†µï¼ˆTrue è¡¨ç¤ºç¼ºå¤±ï¼‰â€**ã€‚
>
> ---
>
> ### 2. Pandas åˆ¤æ–­â€œç©ºå€¼â€çš„æœºåˆ¶
>
> Pandas åœ¨åˆ¤æ–­æ˜¯å¦ä¸º `null` æ—¶ï¼Œä¸»è¦ä¾æ®åº•å±‚ **NumPy** çš„æ ‡å‡†ä»¥åŠ Python çš„å¯¹è±¡æ ‡å‡†ã€‚
>
> #### è¢«åˆ¤å®šä¸º `True` (æ˜¯ç©ºå€¼) çš„æƒ…å†µï¼š
>
> Pandas çš„ `isnull()` (ä»¥åŠå®ƒçš„åˆ«å `isna()`) ä¼šå°†ä»¥ä¸‹æƒ…å†µè§†ä¸ºç¼ºå¤±å€¼ï¼š
>
> 1.  **`NaN` (Not a Number)**ï¼š
>     *   è¿™æ˜¯æ ‡å‡†çš„æµ®ç‚¹æ•°ç¼ºå¤±å€¼ï¼ˆIEEE 754 æ ‡å‡†ï¼‰ã€‚
>     *   è¿™æ˜¯ Pandas ä¸­æœ€å¸¸è§çš„ç¼ºå¤±å€¼å½¢å¼ï¼ˆæ•°å€¼åˆ—é€šå¸¸éƒ½ç”¨è¿™ä¸ªï¼‰ã€‚
> 2.  **`None` (Python çš„ None å¯¹è±¡)**ï¼š
>     *   Python è‡ªå¸¦çš„â€œæ— â€å¯¹è±¡ã€‚
>     *   åœ¨ Pandas çš„ `object` ç±»å‹ï¼ˆå­—ç¬¦ä¸²/æ··åˆç±»å‹ï¼‰åˆ—ä¸­ï¼Œ`None` ä¼šè¢«ä¿ç•™å¹¶è§†ä¸ºç¼ºå¤±å€¼ã€‚
>     *   åœ¨æ•°å€¼åˆ—ä¸­ï¼ŒPandas é€šå¸¸ä¼šè‡ªåŠ¨æŠŠ `None` è½¬æ¢ä¸º `NaN`ã€‚
> 3.  **`NaT` (Not a Time)**ï¼š
>     *   ä¸“é—¨ç”¨äºæ—¶é—´åºåˆ—ï¼ˆDatetimeï¼‰ç±»å‹çš„ç¼ºå¤±å€¼ã€‚
>
> ####  è¢«åˆ¤å®šä¸º `False` (ä¸æ˜¯ç©ºå€¼) çš„æƒ…å†µï¼ˆæ˜“é”™ç‚¹ï¼‰ï¼š
>
> å¾ˆå¤šåˆå­¦è€…å®¹æ˜“æ··æ·†ä»¥ä¸‹æƒ…å†µï¼ŒPandas **ä¸è®¤ä¸º**å®ƒä»¬æ˜¯ç©ºå€¼ï¼š
>
> 1.  **ç©ºå­—ç¬¦ä¸² `""` æˆ– `" "`**ï¼š
>     *   **æ³¨æ„**ï¼šè¿™æ˜¯æœ€å®¹æ˜“è¸©å‘çš„åœ°æ–¹ï¼åœ¨ Pandas çœ‹æ¥ï¼Œç©ºå­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 0 çš„æœ‰æ•ˆå­—ç¬¦ä¸²å¯¹è±¡ï¼Œ**ä¸æ˜¯ Null**ã€‚
> 2.  **å­—ç¬¦ä¸² `"NaN"` æˆ– `"null"`**ï¼š
>     *   å¦‚æœä½ è¯»å– CSV æ—¶æ²¡æœ‰æ­£ç¡®è§£æï¼Œè¿™äº›åªæ˜¯æ™®é€šçš„æ–‡æœ¬å­—ç¬¦ï¼Œä¸æ˜¯çœŸæ­£çš„ç¼ºå¤±å€¼ã€‚
> 3.  **æ•°å­— `0`**ï¼š
>     *   0 æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—ï¼Œä¸æ˜¯ç©ºã€‚
> 4.  **`False`**ï¼š
>     *   å¸ƒå°”å€¼çš„ False æ˜¯æœ‰æ•ˆå€¼ã€‚
> 5.  **`inf` (æ— ç©·å¤§)**ï¼š
>     *   é»˜è®¤æƒ…å†µä¸‹ï¼Œæ— ç©·å¤§è¢«è§†ä¸ºæœ‰æ•ˆå€¼ï¼ˆå¯ä»¥é€šè¿‡é…ç½®ä¿®æ”¹ï¼‰ã€‚
>
> ### ä»£ç æ¼”ç¤º
>
> ```python
> import pandas as pd
> import numpy as np
> 
> data = {
>     'æ•°å€¼': [1, np.nan, 0],             # np.nan æ˜¯ç©ºï¼Œ0 ä¸æ˜¯
>     'å¯¹è±¡': ['abc', None, ''],          # None æ˜¯ç©ºï¼Œç©ºå­—ç¬¦ä¸² '' ä¸æ˜¯
>     'æ—¶é—´': [pd.Timestamp('20210101'), pd.NaT, pd.Timestamp('20210102')] # NaT æ˜¯ç©º
> }
> 
> df_test = pd.DataFrame(data)
> 
> print("åŸå§‹æ•°æ®ï¼š")
> print(df_test)
> print("-" * 20)
> print("isnull() åˆ¤æ–­ç»“æœï¼š")
> print(df_test.isnull())
> ```
>
> **è¾“å‡ºç»“æœé¢„æ¼”ï¼š**
>
> *   `np.nan` -> True
> *   `None` -> True
> *   `pd.NaT` -> True
> *   `0` -> **False**
> *   `''` (ç©ºå­—ç¬¦ä¸²) -> **False**





### 1.3 ä¿å­˜æ•°æ®

#### 1.3.1 ä»»åŠ¡ä¸€ï¼šå°†ä½ åŠ è½½å¹¶åšå‡ºæ”¹å˜çš„æ•°æ®ï¼Œåœ¨å·¥ä½œç›®å½•ä¸‹ä¿å­˜ä¸ºä¸€ä¸ªæ–°æ–‡ä»¶train_chinese.csv


```python
# æ³¨æ„ï¼šä¸åŒçš„æ“ä½œç³»ç»Ÿä¿å­˜ä¸‹æ¥å¯èƒ½ä¼šæœ‰ä¹±ç ã€‚å¤§å®¶å¯ä»¥åŠ å…¥`encoding='GBK' æˆ–è€… â€™encoding = â€™utf-8â€˜â€˜`
df.to_csv('train_chinese.csv')
```

>  **é»˜è®¤ä¼šå°†æ–‡ä»¶ä¿å­˜åœ¨å½“å‰çš„â€œå·¥ä½œç›®å½•â€**ï¼ˆCurrent Working Directoryï¼‰ä¸‹ã€‚
>
>  ä¹Ÿå¯ä»¥ **æŒ‡å®šç»å¯¹è·¯å¾„ä¿å­˜** æ³¨æ„æ–œæ çš„é—®é¢˜

ã€æ€»ç»“ã€‘æ•°æ®çš„åŠ è½½ä»¥åŠå…¥é—¨ï¼Œæ¥ä¸‹æ¥å°±è¦æ¥è§¦æ•°æ®æœ¬èº«çš„è¿ç®—ï¼Œæˆ‘ä»¬å°†ä¸»è¦æŒæ¡numpyå’Œpandasåœ¨å·¥ä½œå’Œé¡¹ç›®åœºæ™¯çš„è¿ç”¨ã€‚





**å¤ä¹ ï¼š**æ•°æ®åˆ†æçš„ç¬¬ä¸€æ­¥ï¼ŒåŠ è½½æ•°æ®æˆ‘ä»¬å·²ç»å­¦ä¹ å®Œæ¯•äº†ã€‚å½“æ•°æ®å±•ç°åœ¨æˆ‘ä»¬é¢å‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰€è¦åšçš„ç¬¬ä¸€æ­¥å°±æ˜¯è®¤è¯†ä»–ï¼Œä»Šå¤©æˆ‘ä»¬è¦å­¦ä¹ çš„å°±æ˜¯**äº†è§£å­—æ®µå«ä¹‰ä»¥åŠåˆæ­¥è§‚å¯Ÿæ•°æ®**ã€‚

## 1 ç¬¬ä¸€ç« ï¼špandasåŸºç¡€

> #### 1.4 çŸ¥é“ä½ çš„æ•°æ®å«ä»€ä¹ˆâ€”â€”Series å’Œ DataFrame åˆè®¤è¯†
>
> åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œä½ ä¼šå­¦åˆ°ï¼š
>
> - `pandas` çš„ä¸¤ä¸ªæ ¸å¿ƒæ•°æ®ç»“æ„ï¼š**Seriesï¼ˆä¸€ç»´ï¼‰** å’Œ **DataFrameï¼ˆäºŒç»´è¡¨æ ¼ï¼‰**ï¼Œç†è§£å®ƒä»¬åˆ†åˆ«é•¿ä»€ä¹ˆæ ·ã€é€‚åˆè£…ä»€ä¹ˆæ•°æ®ã€‚
> - èƒ½è‡ªå·±å†™å‡ºç®€å•ç¤ºä¾‹ï¼š
>   - ç”¨å­—å…¸åˆ›å»º `Series`ï¼ˆå¦‚å·å â†’ æ•°å€¼æ˜ å°„ï¼‰ã€‚
>   - ç”¨å­—å…¸åˆ›å»º `DataFrame`ï¼ˆå¦‚ state/year/pop è¿™æ ·çš„è¡¨æ ¼æ•°æ®ï¼‰ã€‚
> - é‡æ–°åŠ è½½ `train.csv` æˆ–ä¸Šä¸€èŠ‚ä¿å­˜å¥½çš„ `train_chinese.csv`ï¼Œå¹¶é€šè¿‡ `df.columns` æŸ¥çœ‹æ¯ä¸€åˆ—çš„åˆ—åã€‚
> - å­¦ä¼šä¸¤ç§è®¿é—®åˆ—çš„æ–¹å¼ï¼Œå¹¶ç†è§£å®ƒä»¬çš„åŒºåˆ«ï¼š
>   - å­—å…¸è®¿é—®æ³•ï¼š`df['Cabin']`
>   - å±æ€§è®¿é—®æ³•ï¼š`df.Cabin`
>     çŸ¥é“ä»€ä¹ˆæ—¶å€™å¿…é¡»ç”¨ä¸­æ‹¬å·ç´¢å¼•ï¼ˆåˆ—åæœ‰ç©ºæ ¼ã€ç‰¹æ®Šå­—ç¬¦ã€æƒ³ç”¨å˜é‡åç­‰ï¼‰ã€‚
> - å­¦ä¼šå¯¹æ¯”ä¸¤ä¸ª DataFrameï¼ˆå¦‚ `train` å’Œ `test_1`ï¼‰çš„åˆ—å·®å¼‚ï¼š
>   - ç”¨é›†åˆè¿ç®—æ‰¾å‡ºâ€œæµ‹è¯•é›†ä¸­å¤šå‡ºçš„åˆ—â€ã€‚
>   - ç”¨å¤šç§æ–¹å¼åˆ é™¤å¤šä½™åˆ—ï¼š`del`ã€`drop(columns=...)`ã€`pop()` æˆ–â€œåªä¿ç•™éœ€è¦çš„åˆ—â€çš„æ€è·¯ã€‚
>   - ç†è§£ `Unnamed: 0` è¿™ç±»åˆ—åå‡ºç°çš„åŸå› ï¼šé€šå¸¸æ˜¯ä¿å­˜æ—¶æŠŠç´¢å¼•å†™è¿› CSVã€è¯»å–æ—¶åˆæ²¡æŒ‡å®š `index_col` å¯¼è‡´çš„ã€‚
> - ç”¨ `df.drop([...], axis=1)` å®ç°â€œä¸´æ—¶éšè—å‡ åˆ—åªçœ‹å…¶ä»–åˆ—â€ï¼Œå¹¶ç†è§£ï¼š
>   - ä¸åŠ  `inplace=True` æ—¶ï¼Œåªæ˜¯è¿”å›ä¸€ä¸ªâ€œä¿®æ”¹åçš„è§†å›¾/æ–°å¯¹è±¡â€ï¼ŒåŸ `df` ä¸ä¼šè¢«çœŸæ­£æ”¹åŠ¨ã€‚
>   - ä½•æ—¶é€‚åˆç”¨ `inplace=True` åšâ€œåŸåœ°ä¿®æ”¹â€ã€‚



> #### 1.5 ç­›é€‰çš„é€»è¾‘â€”â€”ç”¨æ¡ä»¶æŠŠæ•°æ®â€œæŒ‘â€å‡ºæ¥
>
> åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œä½ ä¼šå­¦åˆ°ï¼š
>
> - åˆ©ç”¨å¸ƒå°”æ¡ä»¶å¯¹ DataFrame åšè¡Œç­›é€‰ï¼š
>   - ä¾‹å¦‚ï¼š`df[df["Age"] < 10]` è·å– 10 å²ä»¥ä¸‹ä¹˜å®¢ã€‚
> - æ„é€ å¤šæ¡ä»¶ç­›é€‰ï¼Œå¹¶ç”¨é€»è¾‘è¿ç®—ç¬¦ç»„åˆæ¡ä»¶ï¼š
>   - ä½¿ç”¨ `&` è¡¨ç¤ºâ€œåŒæ—¶æ»¡è¶³â€ï¼ˆäº¤é›†ï¼‰ï¼Œ`|` è¡¨ç¤ºâ€œæ»¡è¶³å…¶ä¸€â€ï¼ˆå¹¶é›†ï¼‰ï¼Œ`~` è¡¨ç¤ºå–åã€‚
>   - ç†è§£ä¸ºä»€ä¹ˆæ¯ä¸ªæ¡ä»¶å¤–é¢éƒ½å¿…é¡»åŠ ä¸€å±‚æ‹¬å·ã€‚
>   - å®Œæˆâ€œ10 < Age < 50â€çš„åŒºé—´ç­›é€‰ï¼Œå¹¶å°†ç»“æœå‘½åä¸º `midage`ã€‚
> - ä½¿ç”¨ `reset_index()` é‡ç½®ç­›é€‰å DataFrame çš„ç´¢å¼•ï¼š
>   - ç†è§£åŸç´¢å¼•å¯èƒ½æ˜¯ä¸è¿ç»­ã€ä¸æ˜¯ 0 å¼€å§‹çš„ã€‚
>   - æ˜ç™½ `reset_index()` å’Œ `reset_index(drop=True)` çš„åŒºåˆ«ï¼šä¸€ä¸ªä¿ç•™æ—§ç´¢å¼•ä¸ºåˆ—ï¼Œä¸€ä¸ªç›´æ¥ä¸¢å¼ƒã€‚
>   - çŸ¥é“ä½•æ—¶éœ€è¦å…ˆé‡ç½®ç´¢å¼•ï¼Œå†æŒ‰â€œè¡Œå·æ„Ÿè§‰â€çš„æ–¹å¼å»å®šä½è¡Œã€‚
> - ä½¿ç”¨ `loc` æŒ‰â€œæ ‡ç­¾â€é€‰å–æ•°æ®ï¼š
>   - ä¾‹å¦‚é€‰å‡º `midage` ä¸­ç¬¬ 100 è¡ŒæŒ‡å®šåˆ—ï¼ˆ`"Pclass"`ã€`"Sex"`ï¼‰çš„æ•°æ®ã€‚
>   - ä»¥åŠå¤šè¡Œå¤šåˆ—ç»„åˆé€‰æ‹©ï¼š`loc[[100, 105, 108], ['Pclass', 'Name', 'Sex']]`ã€‚
> - ä½¿ç”¨ `iloc` æŒ‰â€œä½ç½®â€é€‰å–æ•°æ®ï¼š
>   - ä¾‹å¦‚ç”¨ `iloc[[100,105,108],[2,3,4]]` é€šè¿‡â€œè¡Œå· + åˆ—å·â€çš„æ–¹å¼é€‰æ‹©ç›¸åŒçš„æ•°æ®ã€‚
> - é€šè¿‡å¯¹æ¯” `loc` ä¸ `iloc`ï¼Œç†è§£å®ƒä»¬çš„å…³é”®åŒºåˆ«ï¼š
>   - `loc`ï¼šæŒ‰æ ‡ç­¾ï¼ˆè¡Œç´¢å¼•åã€åˆ—åï¼‰é€‰å–ã€‚
>   - `iloc`ï¼šæŒ‰ä½ç½®ï¼ˆæ•´æ•°ä¸‹æ ‡ï¼‰é€‰å–ã€‚
>   - åˆ‡ç‰‡åŒºé—´åœ¨ `loc` ä¸­æ˜¯é—­åŒºé—´ï¼Œåœ¨ `iloc` ä¸­æ˜¯å·¦é—­å³å¼€

### 1.4 çŸ¥é“ä½ çš„æ•°æ®å«ä»€ä¹ˆ

æˆ‘ä»¬å­¦ä¹ pandasçš„åŸºç¡€æ“ä½œï¼Œé‚£ä¹ˆä¸Šä¸€èŠ‚é€šè¿‡pandasåŠ è½½ä¹‹åçš„æ•°æ®ï¼Œå…¶æ•°æ®ç±»å‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

#### 1.4.1 ä»»åŠ¡ä¸€ï¼špandasä¸­æœ‰ä¸¤ä¸ªæ•°æ®ç±»å‹DataFrameå’ŒSeriesï¼Œé€šè¿‡æŸ¥æ‰¾ç®€å•äº†è§£ä»–ä»¬ã€‚ç„¶åè‡ªå·±å†™ä¸€ä¸ªå…³äºè¿™ä¸¤ä¸ªæ•°æ®ç±»å‹çš„å°ä¾‹å­ğŸŒ°[å¼€æ”¾é¢˜]


```python
import numpy as np
import pandas as pd
```


```python
sdata = {'Ohio': 35000, 'Texas': 71000, 'Oregon': 16000, 'Utah': 5000}
example_1 = pd.Series(sdata)
example_1
```


```python
data = {'state': ['Ohio', 'Ohio', 'Ohio', 'Nevada', 'Nevada', 'Nevada'],
        'year': [2000, 2001, 2002, 2001, 2002, 2003],
        'pop': [1.5, 1.7, 3.6, 2.4, 2.9, 3.2]}
example_2 = pd.DataFrame(data)
example_2
```

- Pandas ä¸»è¦æœ‰ä¸¤ä¸ªæ ¸å¿ƒ**æ•°æ®ç»“æ„** DataFrameå’ŒSeries çš„ä»‹ç»

> Pandas ä¸»è¦æœ‰ä¸¤ä¸ªæ ¸å¿ƒ**æ•°æ®ç»“æ„**ï¼Œä»¥åŠå­˜å‚¨åœ¨è¿™äº›ç»“æ„ä¸­çš„åº•å±‚**æ•°æ®ç±»å‹ï¼ˆdtypesï¼‰**ã€‚
>
> ##### 1. æ ¸å¿ƒæ•°æ®ç»“æ„ (Data Structures)
>
> è¿™æ˜¯ Pandas ä¸­æœ€å¸¸ç”¨çš„ä¸¤ä¸ªå¯¹è±¡ï¼š
>
> * **Series (åºåˆ—)**
>
>   *   **å®šä¹‰**ï¼šä¸€ç»´æ•°ç»„å¯¹è±¡ã€‚
>   *   **ç†è§£**ï¼šå¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ Excel è¡¨æ ¼ä¸­çš„**ä¸€åˆ—**ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾ï¼ˆç´¢å¼•ï¼‰çš„ Python åˆ—è¡¨ã€‚
>   *   **ç»„æˆ**ï¼šç”±ä¸€ç»„æ•°æ®ï¼ˆValuesï¼‰å’Œä¸€ç»„ä¸ä¹‹ç›¸å…³çš„æ•°æ®æ ‡ç­¾ï¼ˆIndexï¼‰ç»„æˆã€‚
>   *   **ä»£ç ç¤ºä¾‹**ï¼ˆå‚è€ƒä½ çš„ `example_1`ï¼‰ï¼š
>
>   ```python
>   # åˆ›å»º Series
>   s = pd.Series([1, 3, 5, np.nan, 6, 8])
>   ```
>
> * **DataFrame (æ•°æ®æ¡†)**
>
>   *   **å®šä¹‰**ï¼šäºŒç»´è¡¨æ ¼å‹æ•°æ®ç»“æ„ã€‚
>   *   **ç†è§£**ï¼šå¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯æ•´ä¸ª **Excel è¡¨æ ¼**æˆ– SQL è¡¨ã€‚
>   *   **ç»„æˆ**ï¼šå®ƒæ—¢æœ‰è¡Œç´¢å¼•ï¼ˆIndexï¼‰ï¼Œä¹Ÿæœ‰åˆ—ç´¢å¼•ï¼ˆColumnsï¼‰ã€‚ä½ å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ç”±å¤šä¸ª Series ç»„æˆçš„å­—å…¸ï¼ˆå…±ç”¨åŒä¸€ä¸ªè¡Œç´¢å¼•ï¼‰ã€‚
>   *   **ä»£ç ç¤ºä¾‹**ï¼ˆå‚è€ƒä½ çš„ `example_2`ï¼‰ï¼š
>
>   ```python
>   # åˆ›å»º DataFrame
>   df = pd.DataFrame({
>       'A': 1.,
>       'B': pd.Timestamp('20130102'),
>       'C': pd.Series(1, index=list(range(4)), dtype='float32')
>   })
>   ```
>
> ##### 2. åº•å±‚æ•°æ®ç±»å‹ (Dtypes)
>
> è¿™æ˜¯æŒ‡å­˜å‚¨åœ¨ Series æˆ– DataFrame å•å…ƒæ ¼ä¸­çš„å…·ä½“æ•°å€¼ç±»å‹ã€‚ä½ å¯ä»¥é€šè¿‡ `df.dtypes` æŸ¥çœ‹ã€‚å¸¸è§çš„åŒ…æ‹¬ï¼š
>
> *   **`object`**ï¼šé€šå¸¸ä»£è¡¨å­—ç¬¦ä¸²ï¼ˆStringï¼‰ï¼Œæˆ–è€…æ˜¯æ··åˆç±»å‹çš„æ•°æ®ã€‚
> *   **`int64`**ï¼šæ•´æ•°ï¼ˆIntegerï¼‰ã€‚
> *   **`float64`**ï¼šæµ®ç‚¹æ•°ï¼ˆFloatï¼‰ï¼Œå³å¸¦å°æ•°ç‚¹çš„æ•°å­—ã€‚
> *   **`bool`**ï¼šå¸ƒå°”å€¼ï¼ˆTrue/Falseï¼‰ã€‚
> *   **`datetime64`**ï¼šæ—¥æœŸæ—¶é—´ç±»å‹ã€‚







#### 1.4.2 ä»»åŠ¡äºŒï¼šæ ¹æ®ä¸ŠèŠ‚è¯¾çš„æ–¹æ³•è½½å…¥"train.csv"æ–‡ä»¶

```python
df = pd.read_csv('./train.csv')
df.head(3)
```

ä¹Ÿå¯ä»¥åŠ è½½ä¸Šä¸€èŠ‚è¯¾ä¿å­˜çš„"train_chinese.csv"æ–‡ä»¶ã€‚

#### 1.4.3 ä»»åŠ¡ä¸‰ï¼šæŸ¥çœ‹DataFrameæ•°æ®çš„æ¯åˆ—çš„åç§°


```python
df.columns
```

#### 1.4.4ä»»åŠ¡å››ï¼šæŸ¥çœ‹"Cabin"è¿™åˆ—çš„æ‰€æœ‰å€¼ [æœ‰å¤šç§æ–¹æ³•]


```python
# å­—å…¸è®¿é—®æ³•
df['Cabin'].head(3)
```


```python
# å±æ€§è®¿é—®æ³• / ç‚¹å·æ³•
df.Cabin.head(3)
```

- `df['Cabin'].head(3)ã€   df.Cabin.head(3)`è¿™ä¸¤ç§æ–¹æ³•çš„åŒºåˆ«

> è¿™ä¸¤ç§æ–¹æ³•åœ¨**å½“å‰è¿™ä¸ªä¾‹å­ä¸­**ï¼ˆè®¿é—®åä¸º "Cabin" çš„åˆ—ï¼‰æ•ˆæœæ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œéƒ½è¿”å›è¯¥åˆ—çš„æ•°æ®ã€‚
>
> ä½†æ˜¯ï¼Œå®ƒä»¬åœ¨**é€‚ç”¨åœºæ™¯**å’Œ**çµæ´»æ€§**ä¸Šæœ‰å¾ˆå¤§çš„åŒºåˆ«ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†å¯¹æ¯”ï¼š
>
> ##### 1. `df['Cabin']` (æ–¹æ‹¬å·æ³• / å­—å…¸è®¿é—®æ³•)
>
> è¿™æ˜¯**æœ€é€šç”¨ã€æœ€æ¨è**çš„æ–¹æ³•ã€‚
>
> * **ä¼˜ç‚¹**ï¼š
>
>   * **æ”¯æŒä»»æ„åˆ—å**ï¼šå¦‚æœåˆ—ååŒ…å«**ç©ºæ ¼**ï¼ˆå¦‚ `"First Name"`ï¼‰ã€**ç‰¹æ®Šç¬¦å·**ï¼ˆå¦‚ `"Price($)"`ï¼‰æˆ–**æ•°å­—å¼€å¤´**ï¼Œå¿…é¡»ç”¨è¿™ç§æ–¹æ³•ã€‚
>
>   * **æ”¯æŒå˜é‡**ï¼šå¯ä»¥ä½¿ç”¨å˜é‡æ¥åŠ¨æ€è®¿é—®åˆ—ã€‚
>
>     ```python
>     col_name = 'Cabin'
>     df[col_name]  # å¯è¡Œ
>     ```
>
>   * **åˆ›å»ºæ–°åˆ—**ï¼šå¿…é¡»ç”¨è¿™ç§æ–¹æ³•æ¥æ·»åŠ æ–°åˆ—ã€‚
>
>     ```python
>     df['New_Column'] = 1  # åˆ›å»ºæˆåŠŸ
>     ```
>
>   * **é¿å…å†²çª**ï¼šå¦‚æœåˆ—åå’Œ Pandas çš„å†…ç½®æ–¹æ³•åé‡åï¼ˆæ¯”å¦‚åˆ—åå« `count`, `sum`, `class`ï¼‰ï¼Œè¿™ç§æ–¹æ³•ä¾ç„¶èƒ½å‡†ç¡®è·å–åˆ—æ•°æ®ã€‚
>
> ##### 2. `df.Cabin` (å±æ€§è®¿é—®æ³• / ç‚¹å·æ³•)
>
> è¿™æ˜¯ä¸€ç§**è¯­æ³•ç³–**ï¼ˆSyntactic Sugarï¼‰ï¼Œä¸»è¦æ˜¯ä¸ºäº†å†™èµ·æ¥æ–¹ä¾¿ã€‚
>
> *   **ä¼˜ç‚¹**ï¼š
>     *   **ä¹¦å†™å¿«æ·**ï¼šå°‘æ‰“ä¸¤ä¸ªå¼•å·å’Œä¸¤ä¸ªæ‹¬å·ã€‚
>     *   **ä»£ç è¡¥å…¨**ï¼šåœ¨ Jupyter Notebook æˆ– IDE ä¸­ï¼Œè¾“å…¥ `df.` åæŒ‰ Tab é”®é€šå¸¸èƒ½è‡ªåŠ¨è¡¥å…¨åˆ—åã€‚
>
> *   **ç¼ºç‚¹ï¼ˆå±€é™æ€§ï¼‰**ï¼š
>     *   **ä¸æ”¯æŒç‰¹æ®Šåˆ—å**ï¼šå¦‚æœåˆ—åæœ‰ç©ºæ ¼ï¼ˆ`df.First Name` âŒï¼‰æˆ–ç‰¹æ®Šå­—ç¬¦ï¼Œä¼šæŠ¥é”™ã€‚
>     *   **ä¸èƒ½åˆ›å»ºæ–°åˆ—**ï¼š`df.New_Column = 1` åªä¼šç»™ `df` å¯¹è±¡æ·»åŠ ä¸€ä¸ªæ™®é€šçš„ Python å±æ€§ï¼Œè€Œ**ä¸ä¼š**åœ¨ DataFrame æ•°æ®ç»“æ„ä¸­çœŸæ­£æ·»åŠ ä¸€åˆ—æ•°æ®ã€‚
>     *   **å®¹æ˜“å†²çª**ï¼šå¦‚æœä½ çš„åˆ—åå«åš `shape`ã€`index`ã€`T` æˆ–è€… `count`ï¼Œä½¿ç”¨ `df.shape` è®¿é—®çš„æ˜¯ DataFrame çš„å½¢çŠ¶å±æ€§ï¼Œè€Œä¸æ˜¯åä¸º "shape" çš„é‚£ä¸€åˆ—æ•°æ®ã€‚
>
> ##### æ€»ç»“å»ºè®®
>
> *   **æ—¥å¸¸å¿«é€ŸæŸ¥çœ‹**æ•°æ®ä¸”åˆ—åè§„èŒƒï¼ˆæ— ç©ºæ ¼ã€éå…³é”®å­—ï¼‰æ—¶ï¼Œå¯ä»¥ç”¨ `df.ColumnName`ã€‚
> *   **ç¼–å†™æ­£å¼è„šæœ¬**ã€**å¤„ç†å¤æ‚åˆ—å**æˆ–**åˆ›å»ºæ–°åˆ—**æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨ `df['ColumnName']`ã€‚





#### 1.4.5 ä»»åŠ¡äº”ï¼šåŠ è½½æ–‡ä»¶"test_1.csv"ï¼Œç„¶åå¯¹æ¯”"train.csv"ï¼Œçœ‹çœ‹æœ‰å“ªäº›å¤šå‡ºçš„åˆ—ï¼Œç„¶åå°†å¤šå‡ºçš„åˆ—åˆ é™¤

æ‰‹åŠ¨æ‰“å°è¡¨å¤´ï¼ˆdf.columnsï¼‰è¿›è¡Œè‚‰çœ¼å¯¹æ¯”

ç»è¿‡æˆ‘ä»¬çš„è§‚å¯Ÿå‘ç°ä¸€ä¸ªæµ‹è¯•é›†test_1.csvæœ‰ä¸€åˆ—æ˜¯å¤šä½™çš„ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™ä¸ªå¤šä½™çš„åˆ—åˆ å»


```python
test_1 = pd.read_csv('test_1.csv')
test_1.head(3)
```


```python
# åˆ é™¤å¤šä½™çš„åˆ—
del test_1['a']
test_1.head(3)
```

ã€æ€è€ƒã€‘è¿˜æœ‰å…¶ä»–çš„åˆ é™¤å¤šä½™çš„åˆ—çš„æ–¹å¼å—ï¼Ÿ

**ä»¥ä¸‹æ˜¯ä¸‰ç§åˆ é™¤å¤šä½™åˆ—çš„æ–¹æ³•**

1. ä½¿ç”¨ drop() å‡½æ•°ï¼ˆæœ€æ¨èï¼‰è¿™æ˜¯æœ€æ ‡å‡†çš„æ–¹æ³•ï¼Œå› ä¸ºå®ƒä¸ä¼šåƒ del é‚£æ ·ç›´æ¥ä¿®æ”¹åŸæ•°æ®ï¼ˆé™¤éä½ æŒ‡å®š inplace=Trueï¼‰ï¼Œè¿™åœ¨æ•°æ®å¤„ç†ç®¡é“ä¸­æ›´å®‰å…¨ã€‚


```python
'''

#æ€è€ƒå›ç­”

# æ–¹æ³• Aï¼šè¿”å›ä¸€ä¸ªæ–°çš„ DataFrameï¼ˆä¸æ”¹å˜åŸæ•°æ®ï¼‰
test_1_clean = test_1.drop(['a'], axis=1)

# æ–¹æ³• Bï¼šç›´æ¥åœ¨åŸæ•°æ®ä¸Šä¿®æ”¹ï¼ˆåŠ ä¸Š inplace=Trueï¼‰
test_1.drop(['a'], axis=1, inplace=True)

# æ–¹æ³• Cï¼šä½¿ç”¨ columns å‚æ•°ï¼ˆæ›´ç›´è§‚ï¼Œä¸éœ€è¦å†™ axis=1ï¼‰
test_1.drop(columns=['a'], inplace=True)

# axis å‚æ•°ç”¨äºæŒ‡å®šæ“ä½œçš„æ–¹å‘ï¼ˆè¡Œè¿˜æ˜¯åˆ—ï¼‰ã€‚
# axis=0 (é»˜è®¤)ï¼šä»£è¡¨ è¡Œ (Rows/Index)ã€‚ä¹Ÿå°±æ˜¯çºµå‘ â†“ã€‚
# axis=1ï¼šä»£è¡¨ åˆ— (Columns)ã€‚ä¹Ÿå°±æ˜¯æ¨ªå‘ â†’ã€‚

'''
```

2. ä½¿ç”¨ pop() æ–¹æ³•
   è¿™ä¸ªæ–¹æ³•ä¼šåˆ é™¤åˆ—ï¼ŒåŒæ—¶æŠŠè¢«åˆ é™¤çš„åˆ—ä½œä¸ºè¿”å›å€¼å¼¹å‡ºæ¥ã€‚å¦‚æœä½ éœ€è¦æŠŠåˆ æ‰çš„æ•°æ®å­˜èµ·æ¥å¤‡ç”¨ï¼Œè¿™ä¸ªæ–¹æ³•å¾ˆæœ‰ç”¨ã€‚


```python
# åˆ é™¤ 'a' åˆ—ï¼Œå¹¶æŠŠå®ƒçš„æ•°æ®èµ‹å€¼ç»™ deleted_col
# deleted_col = test_1.pop('a')
```

3. åˆ—è¡¨åˆ‡ç‰‡/ç­›é€‰ï¼ˆä¿ç•™æ³•ï¼‰ä¸å…¶è¯´æ˜¯â€œåˆ é™¤â€ï¼Œä¸å¦‚è¯´æ˜¯â€œåªä¿ç•™æƒ³è¦çš„â€ã€‚å½“ä½ éœ€è¦åˆ é™¤çš„åˆ—å¾ˆå¤šï¼Œè€Œä¿ç•™çš„åˆ—å¾ˆå°‘æ—¶ï¼Œè¿™ç§æ–¹æ³•æœ€å¿«ã€‚


```python
# åªä¿ç•™ 'PassengerId' å’Œ 'Survived'ï¼Œå…¶ä»–çš„éƒ½ä¸è¦äº†
# test_1 = test_1[['PassengerId', 'Survived']]
```

> ##### æ€»ç»“å¯¹æ¯”
>
> | æ–¹æ³•                | ç‰¹ç‚¹                                                | é€‚ç”¨åœºæ™¯                                       |
> | :------------------ | :-------------------------------------------------- | :--------------------------------------------- |
> | **`del df['col']`** | Python åŸç”Ÿè¯­æ³•ï¼Œç›´æ¥ä¿®æ”¹åŸæ•°æ®ï¼Œæ— è¿”å›å€¼ã€‚         | å¿«é€Ÿåˆ é™¤å•åˆ—ï¼Œç¡®å®šä¸å†éœ€è¦åŸæ•°æ®ã€‚             |
> | **`df.drop()`**     | Pandas ä¸“ç”¨ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒå¤šåˆ—ï¼Œé»˜è®¤ä¸ä¿®æ”¹åŸæ•°æ®ã€‚ | **æœ€é€šç”¨**ï¼Œç‰¹åˆ«æ˜¯éœ€è¦åˆ é™¤å¤šåˆ—æˆ–åœ¨é“¾å¼è°ƒç”¨ä¸­ã€‚ |
> | **`df.pop()`**      | åˆ é™¤å¹¶è¿”å›è¯¥åˆ—æ•°æ®ã€‚                                | åˆ é™¤çš„åŒæ—¶è¿˜éœ€è¦ç”¨åˆ°è¿™åˆ—æ•°æ®ã€‚                 |
> | **`df[['col1']]`**  | ç­›é€‰ä¿ç•™ã€‚                                          | éœ€è¦åˆ é™¤çš„åˆ—æ¯”ä¿ç•™çš„åˆ—å¤šå¾—å¤šæ—¶ã€‚               |





#####  è¡¥å……ï¼šåœ¨Pandas ä¸­å¦‚ä½•é«˜æ•ˆã€ç¼–ç¨‹åŒ–åœ°å¯¹æ¯”ä¸¤ä¸ª DataFrame çš„åˆ—å·®å¼‚ï¼Ÿ

> ä½¿ç”¨ Python çš„**é›†åˆï¼ˆSetï¼‰æ“ä½œ**æ¥å¿«é€Ÿæ‰¾å‡ºä¸åŒä¹‹å¤„ã€‚
>
> ##### æ–¹æ³•ï¼šä½¿ç”¨é›†åˆæ“ä½œ (Set Operations)
>
> é›†åˆæ“ä½œå¯ä»¥è®©ä½ ç¬é—´æ‰¾å‡ºï¼š
>
> 1.  **A æœ‰ä½† B æ²¡æœ‰çš„åˆ—**ï¼ˆå·®é›†ï¼‰
> 2.  **B æœ‰ä½† A æ²¡æœ‰çš„åˆ—**ï¼ˆå·®é›†ï¼‰
> 3.  **ä¸¤è€…å…±æœ‰çš„åˆ—**ï¼ˆäº¤é›†ï¼‰
> 4.  **ä¸¤è€…æ‰€æœ‰çš„åˆ—**ï¼ˆå¹¶é›†ï¼‰
>
> å‡è®¾ä½ æœ‰ä¸¤ä¸ª DataFrameï¼š`train` å’Œ `test_1`ã€‚
>
> ```python
> # è·å–åˆ—åé›†åˆ
> train_cols = set(df.columns)
> test_cols = set(test_1.columns)
> 
> # 1. æ‰¾å‡º test_1 ä¸­å¤šå‡ºçš„åˆ— (test_1 æœ‰ä½† train æ²¡æœ‰)
> diff = test_cols - train_cols
> print(f"test_1 å¤šå‡ºçš„åˆ—: {diff}")
> 
> # 2. æ‰¾å‡º train ä¸­å¤šå‡ºçš„åˆ— (train æœ‰ä½† test_1 æ²¡æœ‰)
> # diff_2 = train_cols - test_cols
> # print(f"train å¤šå‡ºçš„åˆ—: {diff_2}")
> ```
>
> ##### ä¸ºä»€ä¹ˆè¿™ç§æ–¹æ³•æ›´é«˜æ•ˆï¼Ÿ
>
> *   **è‡ªåŠ¨åŒ–**ï¼šä¸éœ€è¦äººå·¥é€ä¸ªå•è¯å»æ ¸å¯¹ï¼Œé¿å…çœ¼èŠ±çœ‹é”™ã€‚
> *   **ç›´æ¥å¯ç”¨**ï¼šç»“æœæ˜¯ä¸€ä¸ªé›†åˆæˆ–åˆ—è¡¨ï¼Œä½ å¯ä»¥ç›´æ¥æŠŠè¿™ä¸ªç»“æœä¼ ç»™ `drop()` å‡½æ•°æ¥åˆ é™¤å¤šä½™çš„åˆ—ã€‚
>
> 

 **è¿™é‡Œä¸æ˜¾ç¤ºå¤šä½™çš„åˆ—æ˜¯å› ä¸º å¦‚æœæŒ‰é¡ºåºæ‰§è¡Œè¯¥ç¨‹åº é‚£ä¹ˆä¸åŒçš„åˆ—åœ¨ä¸Šæ–¹å·²ç»è¢«åˆ é™¤äº†.ä½ éœ€è¦æ³¨é‡Šæˆ–è€…åˆ é™¤ä¸Šæ–¹ç¨‹åºåé‡æ–°è¿è¡Œã€‚**


```python
# æ‰¾å‡º test_1 ä¸­å¤šä½™çš„åˆ—
extra_columns = set(test_1.columns) - set(df.columns)
print(f"å¤šä½™çš„åˆ—æ˜¯: {extra_columns}")

# å¦‚æœæƒ³ç›´æ¥åˆ é™¤è¿™äº›å¤šä½™çš„åˆ—
# test_1.drop(columns=extra_columns, inplace=True)
```

- è¾“å‡ºè§£é‡Š `'Unnamed: 0'`ã€‚

> - è¿™æ˜¯ Pandas è¯»å– CSV æ–‡ä»¶æ—¶éå¸¸å¸¸è§çš„ä¸€ä¸ªç°è±¡ã€‚
>
> ç°åœ¨å»è§‚å¯Ÿä¸€ä¸‹ä½ è¾“å…¥çš„ä¸¤ä¸ª.csvæ–‡ä»¶ï¼Œtrain.csvçš„ç¬¬ä¸€åˆ—æ˜¯PassengerIdï¼Œç„¶è€Œtrain_1.csvçš„ç¬¬ä¸€åˆ—æ˜¯ä¸€ä¸ªæ— åˆ—åçš„åºå·åˆ—
>
> æ‰€ä»¥è¯»å–æ—¶å°±ä¼šçœ‹åˆ°ä¸€ä¸ªå« `Unnamed: 0` çš„åˆ—ã€‚
>  ä½ å¯ä»¥åœ¨ CSV é‡Œç»™è¿™ä¸€åˆ—è¡¥ä¸Šåˆ—åï¼ˆæ¯”å¦‚â€œåºå·â€ï¼‰ï¼Œå†é‡æ–°è¯»å–ä¸€æ¬¡ï¼Œå¯¹æ¯”ä¸€ä¸‹è¾“å‡ºï¼Œå°±ä¼šæ›´ç›´è§‚åœ°ç†è§£è¿™ä¸ªç°è±¡ã€‚
>
> **å®ƒçš„å«ä¹‰æ˜¯ï¼š**
> è¿™é€šå¸¸æ˜¯ CSV æ–‡ä»¶ä¸­åŸæœ¬å°±å­˜åœ¨çš„**ç´¢å¼•åˆ—ï¼ˆIndex Columnï¼‰**ï¼Œä½†åœ¨ä¿å­˜æ—¶æ²¡æœ‰ç»™å®ƒèµ·åå­—ï¼Œæˆ–è€…è¯»å–æ—¶æ²¡æœ‰æŒ‡å®šå®ƒä¸ºç´¢å¼•ã€‚
>
> ##### è¯¦ç»†è§£é‡Š
>
> 1.  **æ¥æº**ï¼š
>     å½“ä½ ä½¿ç”¨ `df.to_csv('filename.csv')` ä¿å­˜æ–‡ä»¶æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ Pandas ä¼šæŠŠ DataFrame çš„**è¡Œç´¢å¼•ï¼ˆ0, 1, 2, ...ï¼‰** ä¹Ÿä¿å­˜è¿› CSV æ–‡ä»¶ï¼Œä½œä¸ºç¬¬ä¸€åˆ—ã€‚
>     å› ä¸ºè¡Œç´¢å¼•é€šå¸¸æ²¡æœ‰åå­—ï¼Œæ‰€ä»¥ CSV æ–‡ä»¶çš„ç¬¬ä¸€è¡Œï¼ˆè¡¨å¤´ï¼‰çš„ç¬¬ä¸€ä¸ªä½ç½®æ˜¯ç©ºçš„ã€‚
>
> 2.  **è¯»å–æ—¶çš„è¡¨ç°**ï¼š
>     å½“ä½ å†æ¬¡ç”¨ `pd.read_csv('filename.csv')` è¯»å–è¿™ä¸ªæ–‡ä»¶æ—¶ï¼ŒPandas å‘ç°ç¬¬ä¸€åˆ—æœ‰æ•°æ®ä½†è¡¨å¤´æ˜¯ç©ºçš„ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨ç»™è¿™ä¸€åˆ—èµ·ä¸€ä¸ªåå­—ï¼Œå«åš **`Unnamed: 0`**ï¼ˆæ„æ€æ˜¯ï¼šç¬¬ 0 ä¸ªæ²¡æœ‰åå­—çš„åˆ—ï¼‰ã€‚
>
> ##### å¦‚ä½•è§£å†³/é¿å…ï¼Ÿ
>
> ä½ æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•å¤„ç†å®ƒï¼š
>
> **æ–¹æ³•ä¸€ï¼šè¯»å–æ—¶æŒ‡å®šç´¢å¼•ï¼ˆæ¨èï¼‰**
> å‘Šè¯‰ Pandas ç¬¬ä¸€åˆ—å°±æ˜¯ç´¢å¼•ï¼Œä¸è¦æŠŠå®ƒå½“æˆæ™®é€šæ•°æ®åˆ—è¯»å–ã€‚
>
> ```python
> # index_col=0 è¡¨ç¤ºæŠŠç¬¬0åˆ—ä½œä¸ºè¡Œç´¢å¼•
> test_1 = pd.read_csv('test_1.csv', index_col=0)
> ```
>
> **æ–¹æ³•äºŒï¼šä¿å­˜æ—¶ä¸ä¿å­˜ç´¢å¼•**
> å¦‚æœä½ ä¸éœ€è¦ä¿å­˜è¡Œç´¢å¼•ï¼ˆé€šå¸¸ 0,1,2... è¿™ç§é»˜è®¤ç´¢å¼•æ˜¯ä¸éœ€è¦ä¿å­˜çš„ï¼‰ï¼Œåœ¨ä¿å­˜æ—¶åŠ ä¸Š `index=False`ã€‚
>
> ```python
> # ä¿å­˜æ—¶ä¸¢å¼ƒç´¢å¼•
> df.to_csv('filename.csv', index=False)
> ```
>
> **æ–¹æ³•ä¸‰ï¼šè¯»å–ååˆ é™¤ï¼ˆä½ ç°åœ¨çš„åšæ³•ï¼‰**
> æ—¢ç„¶å·²ç»è¯»è¿›æ¥äº†ï¼Œå°±æŠŠå®ƒåˆ æ‰ã€‚
>
> ```python
> # æŠŠå®ƒåŠ å…¥åˆ°è¦åˆ é™¤çš„åˆ—è¡¨ä¸­
> del test_1['Unnamed: 0']
> # æˆ–è€…
> test_1.drop(columns=['Unnamed: 0'], inplace=True)
> ```







#### 1.4.6 ä»»åŠ¡å…­ï¼š å°†['PassengerId','Name','Age','Ticket']è¿™å‡ ä¸ªåˆ—å…ƒç´ éšè—ï¼Œåªè§‚å¯Ÿå…¶ä»–å‡ ä¸ªåˆ—å…ƒç´ 


```python
df.drop(['PassengerId','Name','Age','Ticket'],axis=1).head(3)
```

ã€æ€è€ƒã€‘å¯¹æ¯”ä»»åŠ¡äº”å’Œä»»åŠ¡å…­ï¼Œæ˜¯ä¸æ˜¯ä½¿ç”¨äº†ä¸ä¸€æ ·çš„æ–¹æ³•(å‡½æ•°)ï¼Œå¦‚æœä½¿ç”¨ä¸€æ ·çš„å‡½æ•°å¦‚ä½•å®Œæˆä¸Šé¢çš„ä¸åŒçš„è¦æ±‚å‘¢ï¼Ÿ

ã€æ€è€ƒå›ç­”ã€‘

å¦‚æœä½ å¸Œæœ›åœ¨åŸ DataFrame ä¸Š**æ°¸ä¹…åˆ é™¤è¿™äº›åˆ—**ï¼Œå¯ä»¥åœ¨ `drop()` ä¸­ä½¿ç”¨ `inplace=True`ã€‚

 æœ¬å°èŠ‚åªæ˜¯æƒ³â€œæš‚æ—¶éšè—è¿™å‡ åˆ—çœ‹ä¸€çœ¼æ•ˆæœâ€ï¼Œæ‰€ä»¥ä¸åŠ  `inplace`ï¼Œè®©åŸæ•°æ®ä¿æŒä¸å˜ã€‚


```python
# æ€è€ƒå›ç­”
df.head(3) 
```







### 1.5 ç­›é€‰çš„é€»è¾‘

å¯¹äºè¡¨æ ¼æ•°æ®ï¼Œæœ€é‡è¦çš„èƒ½åŠ›ä¹‹ä¸€å°±æ˜¯ç­›é€‰ï¼šæŠŠè‡ªå·±éœ€è¦çš„ä¿¡æ¯æŒ‘å‡ºæ¥ï¼ŒæŠŠå½“å‰åˆ†æä¸å…³å¿ƒçš„å…ˆä¸¢åœ¨ä¸€è¾¹ã€‚

ä¸‹é¢è¿˜æ˜¯ç”¨å®æˆ˜çš„æ–¹å¼ï¼Œä¸€è¾¹å†™ä»£ç ä¸€è¾¹ä½“ä¼š pandas çš„ç­›é€‰èƒ½åŠ›ã€‚

#### 1.5.1 ä»»åŠ¡ä¸€ï¼š æˆ‘ä»¬ä»¥"Age"ä¸ºç­›é€‰æ¡ä»¶ï¼Œæ˜¾ç¤ºå¹´é¾„åœ¨10å²ä»¥ä¸‹çš„ä¹˜å®¢ä¿¡æ¯ã€‚


```python
df[df["Age"]<10].head(3)
```

#### 1.5.2 ä»»åŠ¡äºŒï¼š ä»¥"Age"ä¸ºæ¡ä»¶ï¼Œå°†å¹´é¾„åœ¨10å²ä»¥ä¸Šå’Œ50å²ä»¥ä¸‹çš„ä¹˜å®¢ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥ï¼Œå¹¶å°†è¿™ä¸ªæ•°æ®å‘½åä¸ºmidage


```python
midage = df[(df["Age"]>10) &  (df["Age"]<50)]
midage.head(3)
```

ã€æç¤ºã€‘äº†è§£pandasçš„æ¡ä»¶ç­›é€‰æ–¹å¼ä»¥åŠå¦‚ä½•ä½¿ç”¨äº¤é›†å’Œå¹¶é›†æ“ä½œ

> åœ¨ Pandas ä¸­è¿›è¡Œæ¡ä»¶ç­›é€‰ï¼ˆBoolean Indexingï¼‰æ—¶ï¼Œé€»è¾‘è¿ç®—ä¸ Python åŸç”Ÿçš„ `and`/`or` æœ‰æ‰€ä¸åŒã€‚
>
> ä»¥ä¸‹æ˜¯æ ¸å¿ƒè§„åˆ™å’Œæ“ä½œæ–¹å¼ï¼š
>
> ##### 1. æ ¸å¿ƒé€»è¾‘ç¬¦å·
>
> Pandas ä½¿ç”¨**ä½è¿ç®—ç¬¦**æ¥å¤„ç†å‘é‡åŒ–çš„é€»è¾‘æ“ä½œï¼š
>
> *   **äº¤é›† (AND)**ï¼šä½¿ç”¨ç¬¦å· **`&`**
>     *   å«ä¹‰ï¼š**åŒæ—¶æ»¡è¶³**æ‰€æœ‰æ¡ä»¶ã€‚
> *   **å¹¶é›† (OR)**ï¼šä½¿ç”¨ç¬¦å· **`|`** (ç«–çº¿)
>     *   å«ä¹‰ï¼šåªè¦æ»¡è¶³**å…¶ä¸­ä¸€ä¸ª**æ¡ä»¶å³å¯ã€‚
> *   **å–å (NOT)**ï¼šä½¿ç”¨ç¬¦å· **`~`** (æ³¢æµªå·)
>     *   å«ä¹‰ï¼šæ’é™¤æ»¡è¶³è¯¥æ¡ä»¶çš„æ•°æ®ã€‚
>
> ---
>
> ##### 2. !!!æå…¶é‡è¦çš„è¯­æ³•è§„åˆ™ï¼šæ‹¬å· `()`
>
> è¿™æ˜¯æ–°æ‰‹æœ€å®¹æ˜“æŠ¥é”™çš„åœ°æ–¹ï¼š**æ¯ä¸ªç‹¬ç«‹çš„æ¡ä»¶å¿…é¡»ç”¨æ‹¬å·æ‹¬èµ·æ¥**ã€‚
>
> * **é”™è¯¯å†™æ³•**ï¼š
>
>   ```python
>   df[df['Age'] > 10 & df['Age'] < 50]
>   # æŠ¥é”™åŸå› ï¼šPython ä¸­ & çš„ä¼˜å…ˆçº§æ¯” > é«˜ï¼Œ
>   # å®ƒä¼šå…ˆå°è¯•è®¡ç®— 10 & df['Age']ï¼Œå¯¼è‡´é€»è¾‘æ··ä¹±ã€‚
>   ```
>
> * **æ­£ç¡®å†™æ³•**ï¼š
>
>   ```python
>   df[(df['Age'] > 10) & (df['Age'] < 50)]
>   ```
>
> ---
>
> ##### 3. å®æˆ˜ç¤ºä¾‹
>
> å‡è®¾æˆ‘ä»¬è¦å¤„ç†æ³°å¦å°¼å…‹å·çš„æ•°æ®ï¼š
>
> **A. äº¤é›† (AND) - ä½ çš„ä»»åŠ¡äºŒ**
>
> ç­›é€‰å¹´é¾„åœ¨ 10 å²åˆ° 50 å²ä¹‹é—´çš„äººï¼ˆå¤§äº10 **ä¸”** å°äº50ï¼‰ï¼š
>
> ```python
> # ä¸¤ä¸ªæ¡ä»¶éƒ½å¿…é¡»ä¸º True
> midage = df[(df["Age"] > 10) & (df["Age"] < 50)]
> ```
>
>  **B. å¹¶é›† (OR)**
>
> ç­›é€‰â€œå°å­©â€æˆ–è€…â€œè€äººâ€ï¼ˆå°äº 10 å² **æˆ–è€…** å¤§äº 50 å²ï¼‰ï¼š
>
> ```python
> # åªè¦æ»¡è¶³å…¶ä¸­ä¸€ä¸ªæ¡ä»¶å°±ä¿ç•™
> extreme_age = df[(df["Age"] < 10) | (df["Age"] > 50)]
> ```
>
>  **C. åˆ—è¡¨ç­›é€‰ (isin)**
>
> å¦‚æœä½ è¦ç­›é€‰æŸä¸ªå­—æ®µç­‰äºå¤šä¸ªç‰¹å®šå€¼ï¼ˆæ¯”å¦‚ç­›é€‰ 1 ç­‰èˆ±å’Œ 3 ç­‰èˆ±ï¼‰ï¼Œç”¨ `isin()` æ›´ç®€æ´ï¼Œå®ƒæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ç§å¹¶é›†ï¼š
>
> ```python
> # ç­‰åŒäº (df["Pclass"] == 1) | (df["Pclass"] == 3)
> df[df["Pclass"].isin([1, 3])]
> ```

#### 1.5.3 ä»»åŠ¡ä¸‰ï¼šå°†midageçš„æ•°æ®ä¸­ç¬¬100è¡Œçš„"Pclass"å’Œ"Sex"çš„æ•°æ®æ˜¾ç¤ºå‡ºæ¥


```python
midage = midage.reset_index(drop=True)
midage.head(3)
```

> reset_index(drop=True) çš„ä½œç”¨æ˜¯å°† midage çš„ç´¢å¼•é‡ç½®ä¸ºé»˜è®¤çš„æ•´æ•°ç´¢å¼•ï¼ˆ0, 1, 2, ...ï¼‰ï¼Œå¹¶ä¸”ä¸ä¿ç•™åŸæœ‰çš„ç´¢å¼•åˆ—ï¼ˆå› ä¸º drop=Trueï¼‰ã€‚  
>
> **è¿™æ ·åšå¯ä»¥è®© midage çš„ç´¢å¼•å˜å¾—è¿ç»­ã€è§„èŒƒï¼Œæ–¹ä¾¿åç»­æŒ‰ä½ç½®(æˆ–æ ‡ç­¾)è®¿é—®æˆ–æ•°æ®å¤„ç†ï¼Œé¿å…å› ç´¢å¼•æ··ä¹±å¯¼è‡´çš„é”™è¯¯ã€‚**
>
> å¦‚æœä¸åŠ  drop=Trueï¼ˆå³å†™æˆ midage = midage.reset_index()ï¼‰ï¼ŒåŸæœ‰çš„ç´¢å¼•ä¼šè¢«è¿˜åŸä¸ºä¸€åˆ—ï¼Œå˜æˆ DataFrame çš„æ™®é€šæ•°æ®åˆ—ï¼Œè€Œä¸æ˜¯è¢«ç›´æ¥ä¸¢å¼ƒã€‚
>
> å…·ä½“è¡¨ç°ä¸ºï¼š
>
> - æ–°çš„ DataFrame ä¼šå¤šå‡ºä¸€åˆ—åä¸º "index"ï¼ˆæˆ–åŸç´¢å¼•åï¼‰ï¼Œå†…å®¹æ˜¯åŸæ¥çš„ç´¢å¼•å€¼ã€‚
> - ç´¢å¼•ä¼šè¢«é‡ç½®ä¸ºé»˜è®¤çš„ 0, 1, 2, ...ã€‚
>
> è¿™æ ·åšçš„ç»“æœæ˜¯ï¼ŒåŸç´¢å¼•ä¿¡æ¯ä¸ä¼šä¸¢å¤±ï¼Œè€Œæ˜¯ä»¥æ–°çš„ä¸€åˆ—ä¿ç•™åœ¨æ•°æ®ä¸­ã€‚å¦‚æœä½ ä¸éœ€è¦åŸç´¢å¼•ï¼Œå»ºè®®åŠ  drop=Trueï¼Œå¦åˆ™ä¼šå¤šå‡ºä¸€åˆ—ã€‚
>
> ç®€è¦æ€»ç»“ï¼š  
> è¿™è¡Œä»£ç è®© midage çš„ç´¢å¼•å˜ä¸ºé»˜è®¤çš„è¿ç»­æ•°å­—ç´¢å¼•ï¼Œå¹¶ä¸”ä¸¢å¼ƒåŸæ¥çš„ç´¢å¼•ï¼Œä¸å†ä½œä¸ºæ–°çš„ä¸€åˆ—ä¿ç•™ã€‚







ã€æ€è€ƒã€‘è¿™ä¸ªreset_index()å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœä¸ç”¨è¿™ä¸ªå‡½æ•°ï¼Œä¸‹é¢çš„ä»»åŠ¡ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿ

> reset_index() å‡½æ•°æ˜¯ Pandas DataFrame çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä¸»è¦ä½œç”¨æ˜¯å°†ç´¢å¼•ï¼ˆindexï¼‰è¿˜åŸä¸ºæ™®é€šåˆ—ï¼Œå¹¶ç”Ÿæˆæ–°çš„é»˜è®¤æ•´æ•°ç´¢å¼•ã€‚å¸¸è§ç”¨æ³•æœ‰ï¼š
>
> - df.reset_index()ï¼šå°†å½“å‰ç´¢å¼•å˜ä¸ºæ™®é€šåˆ—ï¼Œç´¢å¼•é‡ç½®ä¸ºé»˜è®¤çš„ 0, 1, 2, ...
> - df.reset_index(drop=True)ï¼šå°†ç´¢å¼•é‡ç½®ä¸ºé»˜è®¤æ•´æ•°ç´¢å¼•ï¼Œä½†ä¸ä¿ç•™åŸç´¢å¼•ä¸ºåˆ—ã€‚
>
> å¦‚æœä¸ç”¨ reset_index()ï¼Œåœ¨æŸäº›æ“ä½œï¼ˆå¦‚ groupbyã€set_indexã€è¿‡æ»¤ç­‰ï¼‰åï¼ŒDataFrame çš„ç´¢å¼•å¯èƒ½ä¸æ˜¯é»˜è®¤çš„æ•´æ•°ç´¢å¼•ï¼Œè€Œæ˜¯æŸäº›åˆ—çš„å€¼æˆ–å¤šçº§ç´¢å¼•ã€‚è¿™æ ·ä¼šå¯¼è‡´ï¼š
>
> - æ•°æ®æ˜¾ç¤ºæ—¶ç´¢å¼•ä¸æ˜¯è¿ç»­æ•°å­—ï¼Œå¯èƒ½å½±å“å¯è¯»æ€§ã€‚
> - åç»­æŒ‰ä½ç½®ï¼ˆå¦‚ ilocï¼‰æˆ–åˆå¹¶ã€å¯è§†åŒ–ç­‰æ“ä½œæ—¶ï¼Œç´¢å¼•ä¸è§„èŒƒå¯èƒ½å¯¼è‡´æŠ¥é”™æˆ–ç»“æœå¼‚å¸¸ã€‚
> - æŸäº›æƒ…å†µä¸‹ï¼Œç´¢å¼•åˆ—ä¸ä¼šå‚ä¸æ™®é€šçš„åˆ—è¿ç®—æˆ–è¾“å‡ºï¼Œå®¹æ˜“é—æ¼ã€‚
>
> ä¸¾ä¾‹è¯´æ˜ï¼š
>
> å‡è®¾ groupby åï¼š
>
> ```python
> df2 = df.groupby('A').sum()
> print(df2)
> ```
>
> æ­¤æ—¶ 'A' å˜æˆäº†ç´¢å¼•ã€‚å¦‚æœä½ æƒ³è®© 'A' é‡æ–°å˜æˆæ™®é€šåˆ—ï¼Œå¯ä»¥ç”¨ï¼š
>
> ```python
> df2 = df2.reset_index()
> ```
>
> å¦‚æœä¸ reset_indexï¼Œåç»­ç”¨ df2['A'] ä¼šæŠ¥é”™ï¼Œå› ä¸º 'A' åªæ˜¯ç´¢å¼•ï¼Œä¸æ˜¯æ™®é€šåˆ—ã€‚
>
> æ€»ç»“ï¼šreset_index() è®©ç´¢å¼•å˜å›æ™®é€šåˆ—ï¼Œä¿è¯æ•°æ®ç»“æ„ç»Ÿä¸€ï¼Œä¾¿äºåç»­å¤„ç†ã€‚å¦‚æœä¸ç”¨ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®æ“ä½œå’Œç»“æœå‡ºç°é—®é¢˜ã€‚


```python
# å°†midageçš„æ•°æ®ä¸­ç¬¬100è¡Œçš„"Pclass"å’Œ"Sex"çš„æ•°æ®æ˜¾ç¤ºå‡ºæ¥
midage.loc[[100],['Pclass','Sex']]       
```

#### 1.5.4 ä»»åŠ¡å››ï¼šä½¿ç”¨locæ–¹æ³•å°†midageçš„æ•°æ®ä¸­ç¬¬100ï¼Œ105ï¼Œ108è¡Œçš„"Pclass"ï¼Œ"Name"å’Œ"Sex"çš„æ•°æ®æ˜¾ç¤ºå‡ºæ¥


```python
midage.loc[[100,105,108],['Pclass','Name','Sex']] 
```

#### 1.5.5 ä»»åŠ¡äº”ï¼šä½¿ç”¨ilocæ–¹æ³•å°†midageçš„æ•°æ®ä¸­ç¬¬100ï¼Œ105ï¼Œ108è¡Œçš„"Pclass"ï¼Œ"Name"å’Œ"Sex"çš„æ•°æ®æ˜¾ç¤ºå‡ºæ¥


```python
midage.iloc[[100,105,108],[2,3,4]]
```

ã€æ€è€ƒã€‘å¯¹æ¯”`iloc`å’Œ`loc`çš„å¼‚åŒ

> `iloc` å’Œ `loc` éƒ½æ˜¯ Pandas ä¸­ç”¨äºé€‰å– DataFrame æˆ– Series æ•°æ®çš„ç´¢å¼•å™¨
>
> **ç›¸åŒç‚¹ï¼š**
>
> - éƒ½å¯ä»¥ç”¨äºè¡Œã€åˆ—çš„é€‰å–å’Œåˆ‡ç‰‡ã€‚
> - éƒ½æ”¯æŒå•ä¸ªã€å¤šä¸ªã€åˆ‡ç‰‡ã€å¸ƒå°”æ•°ç»„ç­‰å¤šç§ç´¢å¼•æ–¹å¼ã€‚
>
> **ä¸åŒç‚¹ï¼š**
>
> |          | ilocï¼ˆinteger locationï¼‰       | locï¼ˆlabel locationï¼‰          |
> | -------- | ------------------------------ | ------------------------------ |
> | ç´¢å¼•æ–¹å¼ | åªèƒ½ç”¨æ•´æ•°ä½ç½®ï¼ˆ0, 1, 2, ...ï¼‰ | ç”¨æ ‡ç­¾ï¼ˆè¡Œ/åˆ—åï¼‰              |
> | åŒ…å«æ€§   | åˆ‡ç‰‡æ—¶ï¼Œç»“å°¾ä¸åŒ…å«ï¼ˆå·¦é—­å³å¼€ï¼‰ | åˆ‡ç‰‡æ—¶ï¼Œç»“å°¾åŒ…å«ï¼ˆå·¦é—­å³é—­ï¼‰   |
> | å…¸å‹ç”¨æ³• | df.iloc[0:3, 1:3]              | df.loc['a':'c', 'col1':'col3'] |
> | é”™è¯¯ç±»å‹ | è¶…å‡ºèŒƒå›´æ—¶æŠ¥ IndexError        | æ ‡ç­¾ä¸å­˜åœ¨æ—¶æŠ¥ KeyError        |
>
> **ä¸¾ä¾‹ï¼š**
>
> ```python
> # iloc æŒ‰ä½ç½®
> df.iloc[0:2, 1:3]  # é€‰ç¬¬0ã€1è¡Œï¼Œç¬¬1ã€2åˆ—
> 
> # loc æŒ‰æ ‡ç­¾
> df.loc['row1':'row3', 'A':'C']  # é€‰æ ‡ç­¾ä»row1åˆ°row3ï¼Œåˆ—Aåˆ°Cï¼ˆéƒ½åŒ…å«ç»“å°¾ï¼‰
> ```
>
> **æ€»ç»“ï¼š**
>
> - iloc ç”¨äºâ€œæŒ‰ä½ç½®â€å–æ•°æ®ï¼Œé€‚åˆæ•°å­—ç´¢å¼•ã€‚
> - loc ç”¨äºâ€œæŒ‰æ ‡ç­¾â€å–æ•°æ®ï¼Œé€‚åˆè¡Œåã€åˆ—åç´¢å¼•ã€‚







**å¤ä¹ ï¼š**åœ¨å‰é¢æˆ‘ä»¬å·²ç»å­¦ä¹ äº†PandasåŸºç¡€ï¼ŒçŸ¥é“åˆ©ç”¨Pandasè¯»å–csvæ•°æ®çš„å¢åˆ æŸ¥æ”¹ï¼Œä»Šå¤©æˆ‘ä»¬è¦å­¦ä¹ çš„å°±æ˜¯**æ¢ç´¢æ€§æ•°æ®åˆ†æ**ï¼Œä¸»è¦ä»‹ç»å¦‚ä½•åˆ©ç”¨Pandasè¿›è¡Œæ’åºã€ç®—æœ¯è®¡ç®—ä»¥åŠè®¡ç®—æè¿°å‡½æ•°describe()çš„ä½¿ç”¨ã€‚

# 1 ç¬¬ä¸€ç« ï¼šæ¢ç´¢æ€§æ•°æ®åˆ†æ

> - **1.6 äº†è§£ä½ çš„æ•°æ®å—ï¼Ÿæ•´ä½“æ€è·¯**
>   åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œä½ ä¼šä»å‡ ä¸ªå°ä»»åŠ¡å‡ºå‘ï¼Œä½“ä¼šã€Œæ¢ç´¢æ€§æ•°æ®åˆ†æï¼ˆEDAï¼‰ã€çš„æ ¸å¿ƒæ€è·¯ï¼š
>   é€šè¿‡æ’åºã€ç®—æœ¯è¿ç®—å’Œæè¿°æ€§ç»Ÿè®¡ï¼Œé€æ­¥æå‡ºé—®é¢˜ã€éªŒè¯ç›´è§‰ã€å‘ç°æ•°æ®ä¸­çš„æ¨¡å¼ã€‚
> - **1.6.1 ä»»åŠ¡ä¸€ï¼šç”¨ DataFrame ç»ƒä¹ æ’åºï¼ˆå‡åºï¼‰**
>   åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œä½ ä¼šç”¨ `np.arange()` å’Œ `pd.DataFrame()` æ‰‹åŠ¨æ„é€ ä¸€ä¸ªå°æ•°æ®è¡¨ï¼Œå­¦ä¹ ï¼š
>   - å¦‚ä½•è®¾ç½®è¡Œç´¢å¼•å’Œåˆ—ç´¢å¼•ï¼›
>   - å¦‚ä½•ä½¿ç”¨ `sort_values()`ã€`sort_index()` æŒ‰ä¸åŒç»´åº¦è¿›è¡Œæ’åºï¼›
>   - ç†è§£æŒ‰ã€Œæ•°æ®å†…å®¹ã€æ’åº vs æŒ‰ã€Œè¡Œ/åˆ—æ ‡ç­¾ã€æ’åºçš„åŒºåˆ«ã€‚
> - **1.6.2 ä»»åŠ¡äºŒï¼šæŒ‰ç¥¨ä»·å’Œå¹´é¾„å¯¹æ³°å¦å°¼å…‹å·ä¹˜å®¢æ’åºï¼ˆé™åºï¼‰**
>   åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œä½ ä¼šå¯¹çœŸå®çš„æ³°å¦å°¼å…‹å·æ•°æ®ç”¨ `sort_values(by=['ç¥¨ä»·', 'å¹´é¾„'], ascending=False)` åšå¤šåˆ—æ’åºï¼Œå¹¶å°è¯•ï¼š
>   - è§‚å¯Ÿç¥¨ä»·é«˜çš„ä¹˜å®¢åœ¨ç”Ÿå­˜ä¸Šçš„å·®å¼‚ï¼›
>   - ç»ƒä¹ ä»æ’åºç»“æœä¸­æ€»ç»“å‡ºã€Œä¸šåŠ¡å«ä¹‰ã€è€Œä¸åªæ˜¯çœ‹ä»£ç è¾“å‡ºã€‚
> - **1.6.3 ä»»åŠ¡ä¸‰ï¼šDataFrame ä¹‹é—´çš„ç®—æœ¯è®¡ç®—ä¸å¯¹é½**
>   åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œä½ ä¼šåˆ›å»ºä¸¤ä¸ªæœ‰é‡å /ä¸å®Œå…¨ç›¸åŒè¡Œåˆ—æ ‡ç­¾çš„ DataFrameï¼Œå¹¶ç”¨ `frame1_a + frame1_b` ç­‰æ“ä½œï¼Œç†è§£ï¼š
>   - Pandas ç®—æœ¯è¿ç®—å¦‚ä½•æŒ‰ã€Œè¡Œåˆ—æ ‡ç­¾ã€è‡ªåŠ¨å¯¹é½ï¼›
>   - æ²¡æœ‰å¯¹é½ä¸Šçš„ä½ç½®ä¸ºä»€ä¹ˆä¼šå˜æˆ `NaN`ï¼›
>   - ç®—æœ¯è¿ç®—ä¸ä»…æ˜¯â€œåŠ å‡ä¹˜é™¤â€ï¼Œæ›´æ˜¯ã€Œè‡ªåŠ¨å¯¹é½ + ç¼ºå¤±å€¼å¤„ç†ã€çš„ä¸€éƒ¨åˆ†ã€‚
> - **1.6.4 ä»»åŠ¡å››ï¼šè®¡ç®—æ³°å¦å°¼å…‹å·ä¸Šâ€œæœ€å¤§å®¶æ—äººæ•°â€**
>   åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œä½ ä¼šé€šè¿‡ `text['å…„å¼Ÿå§å¦¹ä¸ªæ•°'] + text['çˆ¶æ¯å­å¥³ä¸ªæ•°']` æ¥æ„é€ â€œå®¶æ—è§„æ¨¡â€è¿™ä¸€æ–°ç‰¹å¾ï¼Œå¹¶ç”¨ `max()` æ‰¾å‡ºèˆ¹ä¸Šæœ€å¤§å®¶æ—çš„äººæ•°ï¼Œä½“éªŒï¼š
>   - å¦‚ä½•é€šè¿‡åˆ—ä¹‹é—´çš„è¿ç®—æ„é€ æ–°ç‰¹å¾ï¼›
>   - å¦‚ä½•ç”¨ä¸€ä¸ªç®€å•æŒ‡æ ‡ï¼ˆå®¶æ—äººæ•°ï¼‰å¸®åŠ©ç†è§£æ•°æ®ä¸­çš„äººç‰©å…³ç³»ã€‚
> - **1.6.5 ä»»åŠ¡äº”ï¼šç”¨ `describe()` è·å–æ•°æ®çš„åŸºæœ¬ç»Ÿè®¡ä¿¡æ¯**
>   åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œä½ ä¼šå¯¹ä¸€ä¸ªå¸¦ç¼ºå¤±å€¼çš„å°å‹ DataFrame ä½¿ç”¨ `describe()`ï¼Œå¹¶ç†è§£ï¼š
>   - `count, mean, std, min, 25%, 50%, 75%, max` å„ç»Ÿè®¡é‡çš„å«ä¹‰ï¼›
>   - ä¸ºä»€ä¹ˆ `describe()` é»˜è®¤åªç»Ÿè®¡æ•°å€¼å‹åˆ—ï¼›
>   - å¦‚ä½•é€šè¿‡ `.T` è½¬ç½®è®©ç»“æœæ›´æ–¹ä¾¿é˜…è¯»ã€‚
> - **1.6.6 ä»»åŠ¡å…­ï¼šåˆ†æç¥¨ä»·å’Œâ€œçˆ¶æ¯å­å¥³ä¸ªæ•°â€çš„ç»Ÿè®¡ç‰¹å¾**
>   åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œä½ ä¼šå¯¹çœŸå®çš„æ³°å¦å°¼å…‹å·æ•°æ®ä½¿ç”¨ï¼š
>   - `text['ç¥¨ä»·'].describe()` åˆ†æç¥¨ä»·åˆ†å¸ƒå’Œæ³¢åŠ¨æƒ…å†µï¼›
>   - `text['çˆ¶æ¯å­å¥³ä¸ªæ•°'].describe()`ã€`(text['çˆ¶æ¯å­å¥³ä¸ªæ•°'] != 0).sum()` è§‚å¯Ÿæœ‰å®¶å±åŒè¡Œçš„ä¹˜å®¢æ•°é‡ï¼›
>   - `info()`ã€`value_counts()`ã€`nunique()` ç­‰å‡½æ•°ï¼Œå¿«é€Ÿæ‘¸æ¸…æ•°æ®çš„åˆ—ç±»å‹ã€ç¼ºå¤±æƒ…å†µã€ç±»åˆ«åˆ†å¸ƒå’Œå”¯ä¸€å€¼æ•°é‡ã€‚
> - **æœ¬ç« å°ç»“ï¼šä»å‡½æ•°åˆ°â€œåˆ†ææ€ç»´â€**
>   åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œä½ ä¼šæ„è¯†åˆ°ï¼š
>   - æ¢ç´¢æ€§åˆ†æä¸ä»…æ˜¯ç†Ÿæ‚‰ APIï¼Œæ›´é‡è¦çš„æ˜¯å­¦ä¼šä»ç»“æœä¸­æå‡ºé—®é¢˜ï¼›
>   - ä¸ºåç»­çš„æ•°æ®æ¸…æ´—å’Œå»ºæ¨¡æ‰“ä¸‹ã€Œç†è§£æ•°æ®ã€çš„åŸºç¡€

#### å¼€å§‹ä¹‹å‰ï¼Œå¯¼å…¥numpyã€pandasåŒ…å’Œæ•°æ®


```python
# åŠ è½½æ‰€éœ€çš„åº“
import numpy as np
import pandas as pd
```


```python
# è½½å…¥ä¹‹å‰ä¿å­˜çš„train_chinese.csvæ•°æ®ï¼Œå…³äºæ³°å¦å°¼å…‹å·çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨è¿™ä¸ªæ•°æ®
text = pd.read_csv('train_chinese.csv')
text.head()
```

### 1.6 äº†è§£ä½ çš„æ•°æ®å—ï¼Ÿ

æ•™æã€ŠPython for Data Analysisã€‹ç¬¬äº”ç« 

#### 1.6.1 ä»»åŠ¡ä¸€ï¼šåˆ©ç”¨Pandaså¯¹ç¤ºä¾‹æ•°æ®è¿›è¡Œæ’åºï¼Œè¦æ±‚å‡åº


```python
# å…·ä½“è¯·çœ‹ã€Šåˆ©ç”¨Pythonè¿›è¡Œæ•°æ®åˆ†æã€‹ç¬¬äº”ç«  æ’åºå’Œæ’å éƒ¨åˆ†

#è‡ªå·±æ„å»ºä¸€ä¸ªéƒ½ä¸ºæ•°å­—çš„DataFrameæ•°æ®
frame = pd.DataFrame(np.arange(8).reshape((2, 4)), 
                     index=['2', '1'], 
                     columns=['d', 'a', 'b', 'c'])
frame

```

ã€ä»£ç è§£æã€‘

> pd.DataFrame() ï¼šåˆ›å»ºä¸€ä¸ªDataFrameå¯¹è±¡ 
>
> np.arange(8).reshape((2, 4)) : 
>
> - ç”Ÿæˆä¸€ä¸ª 2 è¡Œ 4 åˆ—çš„äºŒç»´æ•°ç»„ï¼Œç¬¬ 1 è¡Œæ˜¯ 0,1,2,3ï¼Œç¬¬ 2 è¡Œæ˜¯ 4,5,6,7ã€‚
> - å¹¶é‡å¡‘ä¸º2è¡Œ4åˆ—çš„äºŒç»´æ•°ç»„ï¼Œä½œä¸ºDataFrameçš„æ•°æ®å†…å®¹ã€‚
>
> index=['2', '1'] ï¼šDataFrame å¯¹è±¡çš„**è¡Œç´¢å¼•**ï¼›
>
> columns=['d', 'a', 'b', 'c'] ï¼šDataFrame å¯¹è±¡çš„**åˆ—ç´¢å¼•**ã€‚



```python
# å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯æƒ³æ ¹æ®åˆ—çš„å€¼æ¥æ’åº,æ‰€ä»¥ï¼Œå°†ä½ æ„å»ºçš„DataFrameä¸­çš„æ•°æ®æ ¹æ®æŸä¸€åˆ—ï¼Œå‡åºæ’åˆ—
frame.sort_values(by='c', ascending=True)
```

å¯ä»¥çœ‹åˆ°sort_valuesè¿™ä¸ªå‡½æ•°ä¸­byå‚æ•°æŒ‡å‘è¦æ’åˆ—çš„åˆ—ï¼Œascendingå‚æ•°æŒ‡å‘æ’åºçš„æ–¹å¼ï¼ˆå‡åºè¿˜æ˜¯é™åºï¼‰

ascending=Trueï¼šæŒ‡å®šæ’åºæ–¹å¼ä¸ºå‡åºï¼ˆä»å°åˆ°å¤§ï¼‰ã€‚

**æ³¨æ„**:åŸå§‹çš„ frame ä¸ä¼šè¢«ä¿®æ”¹ï¼Œé™¤éåŠ ä¸Š inplace=True å‚æ•°ã€‚

ã€æ€»ç»“ã€‘ä¸‹é¢å°†ä¸åŒçš„æ’åºæ–¹å¼åšä¸€ä¸ªå°æ€»ç»“


```python
# è®©è¡Œç´¢å¼•å‡åºæ’åº
frame.sort_index()
```


```python
# è®©åˆ—ç´¢å¼•é™åºæ’åº
frame.sort_index(axis=1, ascending=False)
```


```python
# è®©ä»»é€‰ä¸¤åˆ—æ•°æ®åŒæ—¶é™åºæ’åº
frame.sort_values(by=['a', 'c'], ascending=False)
```

---

> ä¸‹é¢å¯¹è¿™å‡ ç§æ’åºæ–¹å¼è¿›è¡Œå¯¹æ¯”åˆ†æï¼š
>
> ```python
> frame.sort_values(by='c', ascending=True)           # æŒ‰åˆ— 'c' çš„å€¼å‡åºæ’åº
> frame.sort_index()                                  # æŒ‰è¡Œç´¢å¼•å‡åºæ’åº
> frame.sort_index(axis=1)                            # æŒ‰åˆ—ç´¢å¼•å‡åºæ’åº
> frame.sort_index(axis=1, ascending=False)           # æŒ‰åˆ—ç´¢å¼•é™åºæ’åº
> frame.sort_values(by=['a', 'c'], ascending=False)   # å…ˆæŒ‰ 'a'ï¼Œå†æŒ‰ 'c'ï¼Œéƒ½é™åºæ’åº
> ```
>
> ---
>
> 
>
> ##### 1. `frame.sort_values(by='c', ascending=True)`
>
> - **æ’åºå¯¹è±¡**ï¼šæ•°æ®å†…å®¹ï¼ˆæŸä¸€åˆ—çš„å€¼ï¼‰
> - **æ’åºä¾æ®**ï¼šå…ˆæ¯”è¾ƒ `'c'` åˆ—çš„å€¼ï¼Œå€¼å°çš„æ’å‰é¢
> - **å¸¸ç”¨åœºæ™¯**ï¼šæƒ³æŒ‰æŸä¸€åˆ—çš„å®é™…æ•°æ®å¤§å°æ’åº
>
> ##### 2. `frame.sort_index()`
>
> - **æ’åºå¯¹è±¡**ï¼šè¡Œç´¢å¼•ï¼ˆindexï¼‰
> - **æ’åºä¾æ®**ï¼šè¡Œæ ‡ç­¾ï¼ˆå¦‚ '1', '2', ...ï¼‰çš„å­—æ¯æˆ–æ•°å­—é¡ºåº
> - **å¸¸ç”¨åœºæ™¯**ï¼šæƒ³è®©è¡Œçš„é¡ºåºå˜å¾—æœ‰åºï¼ˆå¦‚ä»å°åˆ°å¤§ï¼‰
>
> ##### 3. `frame.sort_index(axis=1)`
>
> - **æ’åºå¯¹è±¡**ï¼šåˆ—ç´¢å¼•ï¼ˆcolumnsï¼‰
> - **æ’åºä¾æ®**ï¼šåˆ—æ ‡ç­¾ï¼ˆå¦‚ 'a', 'b', ...ï¼‰çš„å­—æ¯æˆ–æ•°å­—é¡ºåº
> - **å¸¸ç”¨åœºæ™¯**ï¼šè®©åˆ—çš„é¡ºåºå˜å¾—æœ‰åºï¼ˆå¦‚ä» a åˆ° zï¼‰
>
> ##### 4. `frame.sort_index(axis=1, ascending=False)`
>
> - **æ’åºå¯¹è±¡**ï¼šåˆ—ç´¢å¼•ï¼ˆcolumnsï¼‰
> - **æ’åºä¾æ®**ï¼šåˆ—æ ‡ç­¾çš„é€†åºï¼ˆå¦‚ z åˆ° aï¼‰
> - **å¸¸ç”¨åœºæ™¯**ï¼šæƒ³è®©åˆ—ä»å¤§åˆ°å°æ’åˆ—
>
> ##### 5. `frame.sort_values(by=['a', 'c'], ascending=False)`
>
> - **æ’åºå¯¹è±¡**ï¼šæ•°æ®å†…å®¹ï¼ˆå¤šåˆ—çš„å€¼ï¼‰
> - **æ’åºä¾æ®**ï¼šå…ˆæŒ‰ `'a'` åˆ—é™åºæ’ï¼Œå¦‚æœ `'a'` ç›¸åŒå†æŒ‰ `'c'` åˆ—é™åºæ’
> - **å¸¸ç”¨åœºæ™¯**ï¼šéœ€è¦å¤šé‡æ’åºï¼ˆæ¯”å¦‚å…ˆæŒ‰æˆç»©ï¼Œå†æŒ‰å¹´é¾„ï¼‰
>
> ---
>
> ##### æ€»ç»“
>
> - `sort_index` æ˜¯**æŒ‰æ ‡ç­¾**ï¼ˆè¡Œæˆ–åˆ—åï¼‰æ’åºï¼Œé€‚åˆæ•´ç†è¡¨å¤´é¡ºåºã€‚
> - `sort_values` æ˜¯**æŒ‰æ•°æ®å†…å®¹**æ’åºï¼Œé€‚åˆåˆ†æå’ŒæŸ¥æ‰¾æå€¼ã€æ’åç­‰ã€‚
> - `by=['a', 'c']` æ”¯æŒå¤šåˆ—æ’åºï¼Œä¼˜å…ˆçº§ä»å·¦åˆ°å³ã€‚
> - `axis=1` æ§åˆ¶æ˜¯å¯¹è¡Œè¿˜æ˜¯å¯¹åˆ—æ’åºï¼ˆ0ä¸ºè¡Œï¼Œ1ä¸ºåˆ—ï¼‰ã€‚
> - `ascending` æ§åˆ¶å‡åºè¿˜æ˜¯é™åºã€‚
>
> å®é™…åº”ç”¨æ—¶ï¼ŒæŒ‰å†…å®¹æ’åºæ›´å¸¸ç”¨äºæ•°æ®åˆ†æï¼ŒæŒ‰ç´¢å¼•æ’åºæ›´å¸¸ç”¨äºæ•°æ®å±•ç¤ºå’Œæ•´ç†ã€‚

#### 1.6.2 ä»»åŠ¡äºŒï¼šå¯¹æ³°å¦å°¼å…‹å·æ•°æ®ï¼ˆtrian.csvï¼‰æŒ‰ç¥¨ä»·å’Œå¹´é¾„ä¸¤åˆ—è¿›è¡Œç»¼åˆæ’åºï¼ˆé™åºæ’åˆ—ï¼‰ï¼Œä»æ•°æ®ä¸­ä½ èƒ½å‘ç°ä»€ä¹ˆ


```python
'''
åœ¨å¼€å§‹æˆ‘ä»¬å·²ç»å¯¼å…¥äº†train_chinese.csvæ•°æ®ï¼Œè€Œä¸”å‰é¢æˆ‘ä»¬ä¹Ÿå­¦ä¹ äº†å¯¼å…¥æ•°æ®è¿‡ç¨‹ï¼Œæ ¹æ®ä¸Šé¢å­¦ä¹ ï¼Œæˆ‘ä»¬ç›´æ¥å¯¹ç›®æ ‡åˆ—è¿›è¡Œæ’åºå³å¯
head(20) : è¯»å–å‰20æ¡æ•°æ®
'''

text.sort_values(by=['ç¥¨ä»·', 'å¹´é¾„'], ascending=False).head(20)
```

ã€æ€è€ƒã€‘æ’åºåï¼Œå¦‚æœæˆ‘ä»¬ä»…ä»…å…³æ³¨å¹´é¾„å’Œç¥¨ä»·ä¸¤åˆ—ã€‚æ ¹æ®å¸¸è¯†æˆ‘çŸ¥é“å‘ç°ç¥¨ä»·è¶Šé«˜çš„åº”è¯¥å®¢èˆ±è¶Šå¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šæ˜æ˜¾çœ‹å‡ºï¼Œç¥¨ä»·å‰20çš„ä¹˜å®¢ä¸­å­˜æ´»çš„æœ‰14äººï¼Œè¿™æ˜¯ç›¸å½“é«˜çš„ä¸€ä¸ªæ¯”ä¾‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬åé¢æ˜¯ä¸æ˜¯å¯ä»¥è¿›ä¸€æ­¥åˆ†æä¸€ä¸‹ç¥¨ä»·å’Œå­˜æ´»ä¹‹é—´çš„å…³ç³»ï¼Œå¹´é¾„å’Œå­˜æ´»ä¹‹é—´çš„å…³ç³»å‘¢ï¼Ÿå½“ä½ å¼€å§‹å‘ç°æ•°æ®ä¹‹é—´çš„å…³ç³»äº†ï¼Œæ•°æ®åˆ†æå°±å¼€å§‹äº†ã€‚

å½“ç„¶ï¼Œè¿™åªæ˜¯æˆ‘çš„æƒ³æ³•ï¼Œä½ è¿˜å¯ä»¥æœ‰æ›´å¤šæƒ³æ³•ï¼Œæ¬¢è¿å†™åœ¨ä½ çš„å­¦ä¹ ç¬”è®°ä¸­ã€‚

#### 1.6.3 ä»»åŠ¡ä¸‰ï¼šåˆ©ç”¨Pandasè¿›è¡Œç®—æœ¯è®¡ç®—ï¼Œè®¡ç®—ä¸¤ä¸ªDataFrameæ•°æ®ç›¸åŠ ç»“æœ


```python
# å…·ä½“è¯·çœ‹ã€Šåˆ©ç”¨Pythonè¿›è¡Œæ•°æ®åˆ†æã€‹ç¬¬äº”ç«  ç®—æœ¯è¿ç®—ä¸æ•°æ®å¯¹é½ éƒ¨åˆ†

#å»ºç«‹ä¸€ä¸ªä¾‹å­
frame1_a = pd.DataFrame(np.arange(9.).reshape(3, 3),
                     columns=['a', 'b', 'c'],
                     index=['one', 'two', 'three'])
frame1_b = pd.DataFrame(np.arange(12.).reshape(4, 3),
                     columns=['a', 'e', 'c'],
                     index=['first', 'one', 'two', 'second'])
frame1_a
```


```python
frame1_b
```


```python
#å°†frame_aå’Œframe_bè¿›è¡Œç›¸åŠ 
frame1_a + frame1_b
```

ã€æé†’ã€‘ä¸¤ä¸ªDataFrameç›¸åŠ åï¼Œä¼šè¿”å›ä¸€ä¸ªæ–°çš„DataFrameï¼Œå¯¹åº”çš„è¡Œå’Œåˆ—çš„å€¼ä¼šç›¸åŠ ï¼Œæ²¡æœ‰å¯¹åº”çš„ä¼šå˜æˆç©ºå€¼NaNã€‚å½“ç„¶ï¼ŒDataFrameè¿˜æœ‰å¾ˆå¤šç®—æœ¯è¿ç®—ï¼Œå¦‚å‡æ³•ï¼Œé™¤æ³•ç­‰ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥çœ‹ã€Šåˆ©ç”¨Pythonè¿›è¡Œæ•°æ®åˆ†æã€‹ç¬¬äº”ç«  ç®—æœ¯è¿ç®—ä¸æ•°æ®å¯¹é½ éƒ¨åˆ†ï¼Œå¤šåœ¨ç½‘ç»œä¸ŠæŸ¥æ‰¾ç›¸å…³å­¦ä¹ èµ„æ–™ã€‚

#### 1.6.4 ä»»åŠ¡å››ï¼šé€šè¿‡æ³°å¦å°¼å…‹å·æ•°æ®å¦‚ä½•è®¡ç®—å‡ºåœ¨èˆ¹ä¸Šæœ€å¤§çš„å®¶æ—æœ‰å¤šå°‘äººï¼Ÿ


```python
'''
è¿˜æ˜¯ç”¨ä¹‹å‰å¯¼å…¥çš„chinese_train.csvå¦‚æœæˆ‘ä»¬æƒ³çœ‹çœ‹åœ¨èˆ¹ä¸Šï¼Œæœ€å¤§çš„å®¶æ—æœ‰å¤šå°‘äººï¼ˆâ€˜å…„å¼Ÿå§å¦¹ä¸ªæ•°â€™+â€˜çˆ¶æ¯å­å¥³ä¸ªæ•°â€™ï¼‰ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ
'''
max(text['å…„å¼Ÿå§å¦¹ä¸ªæ•°'] + text['çˆ¶æ¯å­å¥³ä¸ªæ•°'])
```

æ˜¯çš„ï¼Œå¦‚ä¸Šï¼Œå¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€æ‰¾å‡ºå…„å¼Ÿå§å¦¹ä¸ªæ•°å’Œçˆ¶æ¯å­å¥³ä¸ªæ•°ä¹‹å’Œæœ€å¤§çš„æ•°å°±è¡Œï¼Œå…ˆè®©è¿™ä¸¤åˆ—ç›¸åŠ è¿”å›ä¸€ä¸ªSeriesï¼Œç„¶åç”¨maxå‡½æ•°æ±‚å‡ºæœ€å¤§å€¼ï¼Œå½“ç„¶ä½ è¿˜å¯ä»¥æƒ³å‡ºå¾ˆå¤šæ–¹æ³•å’Œæ€è€ƒè§’åº¦ï¼Œæ¬¢è¿ä½ æ¥è¯´å‡ºä½ çš„çœ‹æ³•ã€‚

#### 1.6.5 ä»»åŠ¡äº”ï¼šå­¦ä¼šä½¿ç”¨Pandas describe()å‡½æ•°æŸ¥çœ‹æ•°æ®åŸºæœ¬ç»Ÿè®¡ä¿¡æ¯


```python
#(1) å…³é”®çŸ¥è¯†ç‚¹ç¤ºä¾‹åšä¸€éï¼ˆç®€å•æ•°æ®ï¼‰
# å…·ä½“è¯·çœ‹ã€Šåˆ©ç”¨Pythonè¿›è¡Œæ•°æ®åˆ†æã€‹ç¬¬äº”ç«  æ±‡æ€»å’Œè®¡ç®—æè¿°ç»Ÿè®¡ éƒ¨åˆ†

#å»ºç«‹ä¸€ä¸ªä¾‹å­
frame2 = pd.DataFrame([[1.4, np.nan], 
                       [7.1, -4.5],
                       [np.nan, np.nan], 
                       [0.75, -1.3]
                      ], index=['a', 'b', 'c', 'd'], columns=['one', 'two'])
frame2
```


```python
# è°ƒç”¨ describe å‡½æ•°ï¼Œè§‚å¯Ÿframe2çš„æ•°æ®åŸºæœ¬ä¿¡æ¯

frame2.describe()

'''
count : è¯¥åˆ—ä¸­éç©ºï¼ˆé NaNï¼‰æ•°æ®çš„æ•°é‡ã€‚
mean : æ ·æœ¬æ•°æ®çš„å¹³å‡å€¼
std : æ ·æœ¬æ•°æ®çš„æ ‡å‡†å·®
min : æ ·æœ¬æ•°æ®çš„æœ€å°å€¼
25% : æ ·æœ¬æ•°æ®25%çš„æ—¶å€™çš„å€¼
50% : æ ·æœ¬æ•°æ®50%çš„æ—¶å€™çš„å€¼
75% : æ ·æœ¬æ•°æ®75%çš„æ—¶å€™çš„å€¼
max : æ ·æœ¬æ•°æ®çš„æœ€å¤§å€¼
'''
# frame2.describe().T
# .T æ˜¯ DataFrame çš„è½¬ç½®ï¼ˆtransposeï¼‰æ“ä½œï¼Œä¼šæŠŠè¡Œå’Œåˆ—äº’æ¢ã€‚
```

#### 1.6.6 ä»»åŠ¡å…­ï¼šåˆ†åˆ«çœ‹çœ‹æ³°å¦å°¼å…‹å·æ•°æ®é›†ä¸­ ç¥¨ä»·ã€çˆ¶æ¯å­å¥³ è¿™åˆ—æ•°æ®çš„åŸºæœ¬ç»Ÿè®¡æ•°æ®ï¼Œä½ èƒ½å‘ç°ä»€ä¹ˆï¼Ÿ


```python
'''
çœ‹çœ‹æ³°å¦å°¼å…‹å·æ•°æ®é›†ä¸­ ç¥¨ä»· è¿™åˆ—æ•°æ®çš„åŸºæœ¬ç»Ÿè®¡æ•°æ®
'''
text['ç¥¨ä»·'].describe()
```

ã€æ€è€ƒã€‘ä»ä¸Šé¢æ•°æ®æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œ
ä¸€å…±æœ‰891ä¸ªç¥¨ä»·æ•°æ®ï¼Œ
å¹³å‡å€¼çº¦ä¸ºï¼š32.20ï¼Œ
æ ‡å‡†å·®çº¦ä¸º49.69ï¼Œè¯´æ˜ç¥¨ä»·æ³¢åŠ¨ç‰¹åˆ«å¤§ï¼Œ
25%çš„äººçš„ç¥¨ä»·æ˜¯ä½äº7.91çš„ï¼Œ50%çš„äººçš„ç¥¨ä»·ä½äº14.45ï¼Œ75%çš„äººçš„ç¥¨ä»·ä½äº31.00ï¼Œ
ç¥¨ä»·æœ€å¤§å€¼çº¦ä¸º512.33ï¼Œæœ€å°å€¼ä¸º0ã€‚
å½“ç„¶ï¼Œè¿™åªæ˜¯æˆ‘çš„æƒ³æ³•ï¼Œä½ è¿˜å¯ä»¥æœ‰æ›´å¤šæƒ³æ³•ï¼Œæ¬¢è¿å†™åœ¨ä½ çš„å­¦ä¹ ç¬”è®°ä¸­ã€‚


```python
'''
é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å†çœ‹çœ‹æ³°å¦å°¼å…‹å·æ•°æ®é›†ä¸­ çˆ¶æ¯å­å¥³ä¸ªæ•° è¿™åˆ—æ•°æ®çš„åŸºæœ¬ç»Ÿè®¡æ•°æ®ï¼Œç„¶åå¯ä»¥è¯´å‡ºä½ çš„æƒ³æ³•
'''
text['çˆ¶æ¯å­å¥³ä¸ªæ•°'].describe()

```


```python
(text['çˆ¶æ¯å­å¥³ä¸ªæ•°'] != 0).sum()
```

**æŸ¥çœ‹æ•°æ®åŸºæœ¬ä¿¡æ¯**
info()ï¼šéå¸¸å¼ºå¤§ï¼Œå¯ä»¥ä¸€æ¬¡æ€§çœ‹åˆ°ï¼š
æ¯ä¸€åˆ—çš„åç§°
éç©ºå€¼çš„æ•°é‡ï¼ˆå¯ä»¥é—´æ¥çœ‹å‡ºç¼ºå¤±å€¼ï¼‰
æ•°æ®ç±»å‹ï¼ˆint, float, object ç­‰ï¼‰
å†…å­˜å ç”¨


```python
text['çˆ¶æ¯å­å¥³ä¸ªæ•°'].info()
```

**ç»Ÿè®¡å”¯ä¸€å€¼**value_counts()ï¼šç»Ÿè®¡æŸä¸€åˆ—ä¸­æ¯ä¸ªå€¼å‡ºç°çš„æ¬¡æ•°ï¼ˆéå¸¸é€‚åˆåˆ†ç±»æ•°æ®ï¼Œæ¯”å¦‚æ€§åˆ«ã€ç™»èˆ¹æ¸¯å£ï¼‰


```python
text['çˆ¶æ¯å­å¥³ä¸ªæ•°'].value_counts()
```

nunique()ï¼šç»Ÿè®¡æ¯ä¸€åˆ—æœ‰å¤šå°‘ä¸ªä¸åŒçš„å€¼ã€‚


```python
text.nunique()
```

ã€æ€è€ƒã€‘æœ‰æ›´å¤šæƒ³æ³•ï¼Œæ¬¢è¿å†™åœ¨ä½ çš„å­¦ä¹ ç¬”è®°ä¸­ã€‚

ã€æ€»ç»“ã€‘æœ¬èŠ‚ä¸­æˆ‘ä»¬é€šè¿‡Pandasçš„ä¸€äº›å†…ç½®å‡½æ•°å¯¹æ•°æ®è¿›è¡Œäº†åˆæ­¥ç»Ÿè®¡æŸ¥çœ‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æœ€é‡è¦çš„ä¸æ˜¯å¤§å®¶å¾—æŒæ¡è¿™äº›å‡½æ•°ï¼Œè€Œæ˜¯çœ‹æ‡‚ä»è¿™äº›å‡½æ•°å‡ºæ¥çš„æ•°æ®ï¼Œæ„å»ºè‡ªå·±çš„æ•°æ®åˆ†ææ€ç»´ï¼Œè¿™ä¹Ÿæ˜¯ç¬¬ä¸€ç« æœ€é‡è¦çš„ç‚¹ï¼Œå¸Œæœ›å¤§å®¶å­¦å®Œç¬¬ä¸€ç« èƒ½å¯¹æ•°æ®æœ‰ä¸ªåŸºæœ¬è®¤è¯†ï¼Œäº†è§£è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Œåé¢çš„ç« èŠ‚æˆ‘ä»¬å°†å¼€å§‹å¯¹æ•°æ®è¿›è¡Œæ¸…æ´—ï¼Œè¿›ä¸€æ­¥åˆ†æã€‚
